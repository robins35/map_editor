/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/asset_manager.js":
/*!******************************!*\
  !*** ./src/asset_manager.js ***!
  \******************************/
/*! exports provided: loadAssets, getImage, imgs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadAssets\", function() { return loadAssets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImage\", function() { return getImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imgs\", function() { return imgs; });\n/* harmony import */ var _ui_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/ui */ \"./src/ui/ui.js\");\n\n\nvar successCount = 0;\nvar errorCount = 0;\nvar imgs = {};\nvar imgPaths = [];\n\nvar isDone = function () {\n    return imgPaths.length == successCount + errorCount;\n};\n\nvar loadImagePaths = downloadCallback => {\n    $.ajax({\n        dataType: \"json\",\n        method: \"GET\",\n        url: '/load_images',\n        error: error => {\n            console.log(`ERROR: ${error}`);\n        },\n        success: data => {\n            imgPaths = data;\n            loadImages(downloadCallback);\n        }\n    });\n};\n\nvar loadImages = function (downloadCallback) {\n    var progressBar = new _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].ProgressBar(Game.canvas, {\n        width: \"50%\",\n        height: 20,\n        alignment: \"center\",\n        verticalAlignment: \"middle\",\n        total: imgPaths.length,\n        backgroundColor: \"#ffffff\",\n        color: \"#ffffff\",\n        borderWidth: 2\n    });\n    Game.uiElements.push(progressBar);\n\n    if (imgPaths.length == 0) downloadCallback();\n    for (var i = 0; i < imgPaths.length; i++) {\n        (function (src) {\n            var image_type, image_name;\n            let imagePath = src.split('/').slice(-2);\n            image_type = imagePath[0];\n            image_name = imagePath[1].split('.').slice(0, -1).join('.');\n\n            if (imgs[image_type] === undefined) imgs[image_type] = {};\n\n            imgs[image_type][image_name] = new Image();\n\n            imgs[image_type][image_name].addEventListener(\"load\", function () {\n                successCount++;\n                progressBar.progress++;\n                if (isDone()) downloadCallback();\n            }, false);\n\n            imgs[image_type][image_name].addEventListener(\"error\", function () {\n                errorCount++;\n                console.log(`Error loading image ${this.src}`);\n                if (isDone()) downloadCallback();\n            }, false);\n\n            imgs[image_type][image_name].src = src;\n        })(imgPaths[i]);\n    }\n};\n\n// var loadAudio = function(downloadCallback) {\n//     if(imgPaths.length == 0) downloadCallback();\n// }\n\nvar loadAssets = function (downloadCallback) {\n    loadImagePaths(downloadCallback);\n};\n\nvar getImage = function (image_type, image_name) {\n    return imgs[image_type][image_name];\n};\n\n\n\n// var getAudio = function(name) {\n//     return snds[name];\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXNzZXRfbWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXNzZXRfbWFuYWdlci5qcz85NTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVJIH0gZnJvbSAnLi91aS91aSdcblxudmFyIHN1Y2Nlc3NDb3VudCA9IDA7XG52YXIgZXJyb3JDb3VudCA9IDA7XG52YXIgaW1ncyA9IHt9O1xudmFyIGltZ1BhdGhzID0gW107XG5cbnZhciBpc0RvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKGltZ1BhdGhzLmxlbmd0aCA9PSAoc3VjY2Vzc0NvdW50ICsgZXJyb3JDb3VudCkpO1xufVxuXG52YXIgbG9hZEltYWdlUGF0aHMgPSAoZG93bmxvYWRDYWxsYmFjaykgPT4ge1xuICAkLmFqYXgoe1xuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgdXJsOiAnL2xvYWRfaW1hZ2VzJyxcbiAgICBlcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgRVJST1I6ICR7ZXJyb3J9YClcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICBpbWdQYXRocyA9IGRhdGFcbiAgICAgIGxvYWRJbWFnZXMoZG93bmxvYWRDYWxsYmFjaylcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgbG9hZEltYWdlcyA9IGZ1bmN0aW9uKGRvd25sb2FkQ2FsbGJhY2spIHtcbiAgICB2YXIgcHJvZ3Jlc3NCYXIgPSBuZXcgVUkuUHJvZ3Jlc3NCYXIoR2FtZS5jYW52YXMsIHtcbiAgICAgIHdpZHRoOiBcIjUwJVwiLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIGFsaWdubWVudDogXCJjZW50ZXJcIixcbiAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiBcIm1pZGRsZVwiLFxuICAgICAgdG90YWw6IGltZ1BhdGhzLmxlbmd0aCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgICBib3JkZXJXaWR0aDogMlxuICAgIH0pXG4gICAgR2FtZS51aUVsZW1lbnRzLnB1c2gocHJvZ3Jlc3NCYXIpXG5cbiAgICBpZiAoaW1nUGF0aHMubGVuZ3RoID09IDApIGRvd25sb2FkQ2FsbGJhY2soKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltZ1BhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIChmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZV90eXBlLCBpbWFnZV9uYW1lXG4gICAgICAgICAgICBsZXQgaW1hZ2VQYXRoID0gc3JjLnNwbGl0KCcvJykuc2xpY2UoLTIpXG4gICAgICAgICAgICBpbWFnZV90eXBlID0gaW1hZ2VQYXRoWzBdXG4gICAgICAgICAgICBpbWFnZV9uYW1lID0gaW1hZ2VQYXRoWzFdLnNwbGl0KCcuJykuc2xpY2UoMCwgLTEpLmpvaW4oJy4nKVxuXG4gICAgICAgICAgICBpZihpbWdzW2ltYWdlX3R5cGVdID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgIGltZ3NbaW1hZ2VfdHlwZV0gPSB7fVxuXG4gICAgICAgICAgICBpbWdzW2ltYWdlX3R5cGVdW2ltYWdlX25hbWVdID0gbmV3IEltYWdlKClcblxuICAgICAgICAgICAgaW1nc1tpbWFnZV90eXBlXVtpbWFnZV9uYW1lXS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5wcm9ncmVzcysrXG4gICAgICAgICAgICAgICAgaWYgKGlzRG9uZSgpKSBkb3dubG9hZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGltZ3NbaW1hZ2VfdHlwZV1baW1hZ2VfbmFtZV0uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgbG9hZGluZyBpbWFnZSAke3RoaXMuc3JjfWApXG4gICAgICAgICAgICAgICAgaWYgKGlzRG9uZSgpKSBkb3dubG9hZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGltZ3NbaW1hZ2VfdHlwZV1baW1hZ2VfbmFtZV0uc3JjID0gc3JjO1xuICAgICAgICB9KShpbWdQYXRoc1tpXSk7XG4gICAgfVxufVxuXG4vLyB2YXIgbG9hZEF1ZGlvID0gZnVuY3Rpb24oZG93bmxvYWRDYWxsYmFjaykge1xuLy8gICAgIGlmKGltZ1BhdGhzLmxlbmd0aCA9PSAwKSBkb3dubG9hZENhbGxiYWNrKCk7XG4vLyB9XG5cbnZhciBsb2FkQXNzZXRzID0gZnVuY3Rpb24oZG93bmxvYWRDYWxsYmFjaykge1xuICAgIGxvYWRJbWFnZVBhdGhzKGRvd25sb2FkQ2FsbGJhY2spXG59XG5cbnZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uKGltYWdlX3R5cGUsIGltYWdlX25hbWUpIHtcbiAgICByZXR1cm4gaW1nc1tpbWFnZV90eXBlXVtpbWFnZV9uYW1lXTtcbn1cblxuZXhwb3J0IHsgbG9hZEFzc2V0cywgZ2V0SW1hZ2UsIGltZ3MgfVxuXG4vLyB2YXIgZ2V0QXVkaW8gPSBmdW5jdGlvbihuYW1lKSB7XG4vLyAgICAgcmV0dXJuIHNuZHNbbmFtZV07XG4vLyB9XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/asset_manager.js\n");

/***/ }),

/***/ "./src/collision.js":
/*!**************************!*\
  !*** ./src/collision.js ***!
  \**************************/
/*! exports provided: intersects, vectorSum, vectorDifference, vectorProduct, pointsAreEqual */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intersects\", function() { return intersects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vectorSum\", function() { return vectorSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vectorDifference\", function() { return vectorDifference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vectorProduct\", function() { return vectorProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointsAreEqual\", function() { return pointsAreEqual; });\nlet intersects = (obj, point, tolerance = 0, relative = false) => {\n  let objectPosition = relative ? obj.relativePos : obj.pos;\n  let xIntersect = point.x + tolerance > objectPosition.x && point.x - tolerance < objectPosition.x + obj.width;\n  let yIntersect = point.y + tolerance > objectPosition.y && point.y - tolerance < objectPosition.y + obj.height;\n  return xIntersect && yIntersect;\n};\n\nlet vectorSum = (vector1, vector2) => {\n  return {\n    x: vector1.x + vector2.x,\n    y: vector1.y + vector2.y\n  };\n};\n\nlet vectorDifference = (vector1, vector2) => {\n  return {\n    x: vector1.x - vector2.x,\n    y: vector1.y - vector2.y\n  };\n};\n\nlet vectorProduct = (constant, vector) => {\n  let newVector = {};\n  for (let key of Object.keys(vector)) newVector[key] = vector[key] * constant;\n\n  return newVector;\n};\n\nlet pointsAreEqual = (point1, point2) => {\n  return point1.x == point2.x && point1.y == point2.y;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29sbGlzaW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb2xsaXNpb24uanM/MDlmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaW50ZXJzZWN0cyA9IChvYmosIHBvaW50LCB0b2xlcmFuY2UgPSAwLCByZWxhdGl2ZSA9IGZhbHNlKSA9PiB7XG4gIGxldCBvYmplY3RQb3NpdGlvbiA9IHJlbGF0aXZlID8gb2JqLnJlbGF0aXZlUG9zIDogb2JqLnBvc1xuICBsZXQgeEludGVyc2VjdCA9IChwb2ludC54ICsgdG9sZXJhbmNlKSA+IG9iamVjdFBvc2l0aW9uLnggJiYgKHBvaW50LnggLSB0b2xlcmFuY2UpIDwgKG9iamVjdFBvc2l0aW9uLnggKyBvYmoud2lkdGgpXG4gIGxldCB5SW50ZXJzZWN0ID0gKHBvaW50LnkgKyB0b2xlcmFuY2UpID4gb2JqZWN0UG9zaXRpb24ueSAmJiAocG9pbnQueSAtIHRvbGVyYW5jZSkgPCAob2JqZWN0UG9zaXRpb24ueSArIG9iai5oZWlnaHQpXG4gIHJldHVybiAgeEludGVyc2VjdCAmJiB5SW50ZXJzZWN0O1xufVxuXG5sZXQgdmVjdG9yU3VtID0gKHZlY3RvcjEsIHZlY3RvcjIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICB4OiB2ZWN0b3IxLnggKyB2ZWN0b3IyLngsXG4gICAgeTogdmVjdG9yMS55ICsgdmVjdG9yMi55XG4gIH1cbn1cblxubGV0IHZlY3RvckRpZmZlcmVuY2UgPSAodmVjdG9yMSwgdmVjdG9yMikgPT4ge1xuICByZXR1cm4ge1xuICAgIHg6IHZlY3RvcjEueCAtIHZlY3RvcjIueCxcbiAgICB5OiB2ZWN0b3IxLnkgLSB2ZWN0b3IyLnlcbiAgfVxufVxuXG5sZXQgdmVjdG9yUHJvZHVjdCA9IChjb25zdGFudCwgdmVjdG9yKSA9PiB7XG4gIGxldCBuZXdWZWN0b3IgPSB7fVxuICBmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyh2ZWN0b3IpKVxuICAgIG5ld1ZlY3RvcltrZXldID0gdmVjdG9yW2tleV0gKiBjb25zdGFudFxuXG4gIHJldHVybiBuZXdWZWN0b3Jcbn1cblxubGV0IHBvaW50c0FyZUVxdWFsID0gKHBvaW50MSwgcG9pbnQyKSA9PiB7XG4gIHJldHVybiBwb2ludDEueCA9PSBwb2ludDIueCAmJiBwb2ludDEueSA9PSBwb2ludDIueVxufVxuXG5leHBvcnQgeyBpbnRlcnNlY3RzLCB2ZWN0b3JTdW0sIHZlY3RvckRpZmZlcmVuY2UsIHZlY3RvclByb2R1Y3QsIHBvaW50c0FyZUVxdWFsIH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/collision.js\n");

/***/ }),

/***/ "./src/entity.js":
/*!***********************!*\
  !*** ./src/entity.js ***!
  \***********************/
/*! exports provided: Entity, EntityList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Entity\", function() { return Entity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EntityList\", function() { return EntityList; });\nclass Entity {\n  constructor(x, y, width, height) {\n    Entity.id = Entity.id === undefined ? 1 : Entity.id;\n    this.name = \"Entity\";\n    this.id = Entity.id++;\n    this.pos = { x, y };\n    this.width = width;\n    this.height = height;\n    this.canvas = Game.canvas;\n    this.ctx = Game.ctx;\n  }\n\n  maxX() {\n    return this.canvas.width - this.width;\n  }\n\n  maxY() {\n    return this.canvas.height - this.height;\n  }\n\n  move(x, y) {\n    this.pos = { x, y };\n  }\n\n  safeMove(x, y) {\n    if (x > this.maxX()) this.pos.x = this.maxX();else if (x < 0) this.pos.x = 0;else this.pos.x = x;\n\n    if (y > this.maxY()) this.pos.y = this.maxY();else if (y < 0) this.pos.y = 0;else this.pos.y = y;\n  }\n}\n\nclass EntityList {\n  constructor() {\n    this.list = {};\n  }\n\n  push(entity) {\n    if (entity instanceof Array) {\n      for (let _entity of entity) {\n        this.push(_entity);\n      }\n    } else {\n      this.list[entity.id] = entity;\n    }\n  }\n\n  draw() {\n    for (let key of Object.keys(this.list)) {\n      this.list[key].draw();\n    }\n  }\n\n  update() {\n    for (let key of Object.keys(this.list)) {\n      if (this.list[key] == undefined) {\n        continue;\n      }\n      if (this.list[key].update != undefined) this.list[key].update();\n    }\n  }\n\n  clear() {\n    this.list = {};\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW50aXR5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9lbnRpdHkuanM/NWM2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRW50aXR5IHtcbiAgY29uc3RydWN0b3IgKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBFbnRpdHkuaWQgPSAoRW50aXR5LmlkID09PSB1bmRlZmluZWQpID8gMSA6IEVudGl0eS5pZFxuICAgIHRoaXMubmFtZSA9IFwiRW50aXR5XCJcbiAgICB0aGlzLmlkID0gRW50aXR5LmlkKytcbiAgICB0aGlzLnBvcyA9IHsgeCwgeSB9XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgICB0aGlzLmNhbnZhcyA9IEdhbWUuY2FudmFzXG4gICAgdGhpcy5jdHggPSBHYW1lLmN0eFxuICB9XG5cbiAgbWF4WCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGggLSB0aGlzLndpZHRoXG4gIH1cblxuICBtYXhZKCkge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQgLSB0aGlzLmhlaWdodFxuICB9XG5cbiAgbW92ZSAoeCwgeSkge1xuICAgIHRoaXMucG9zID0geyB4LCB5IH1cbiAgfVxuXG4gIHNhZmVNb3ZlICh4LCB5KSB7XG4gICAgaWYoeCA+IHRoaXMubWF4WCgpKVxuICAgICAgdGhpcy5wb3MueCA9IHRoaXMubWF4WCgpXG4gICAgZWxzZSBpZiAoeCA8IDApXG4gICAgICB0aGlzLnBvcy54ID0gMFxuICAgIGVsc2VcbiAgICAgIHRoaXMucG9zLnggPSB4XG5cbiAgICBpZih5ID4gdGhpcy5tYXhZKCkpXG4gICAgICB0aGlzLnBvcy55ID0gdGhpcy5tYXhZKClcbiAgICBlbHNlIGlmICh5IDwgMClcbiAgICAgIHRoaXMucG9zLnkgPSAwXG4gICAgZWxzZVxuICAgICAgdGhpcy5wb3MueSA9IHlcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXR5TGlzdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubGlzdCA9IHt9XG4gIH1cblxuICBwdXNoKGVudGl0eSkge1xuICAgIGlmKGVudGl0eSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBmb3IobGV0IF9lbnRpdHkgb2YgZW50aXR5KSB7XG4gICAgICAgIHRoaXMucHVzaChfZW50aXR5KVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubGlzdFtlbnRpdHkuaWRdID0gZW50aXR5XG4gICAgfVxuICB9XG5cbiAgZHJhdygpIHtcbiAgICBmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmxpc3QpKSB7XG4gICAgICB0aGlzLmxpc3Rba2V5XS5kcmF3KClcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5saXN0KSkge1xuICAgICAgaWYgKHRoaXMubGlzdFtrZXldID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGlzdFtrZXldLnVwZGF0ZSAhPSB1bmRlZmluZWQpXG4gICAgICAgIHRoaXMubGlzdFtrZXldLnVwZGF0ZSgpXG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5saXN0ID0ge31cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQU1BO0FBdENBO0FBQ0E7QUF3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbENBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/entity.js\n");

/***/ }),

/***/ "./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: init, mouse, keysDown, controlKeysDown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mouse\", function() { return mouse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"keysDown\", function() { return keysDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"controlKeysDown\", function() { return controlKeysDown; });\nlet mouse = {\n  x: 0,\n  y: 0,\n  clicked: false,\n  down: false,\n  rightClicked: false,\n  rightDown: false,\n  dragging: false,\n  dragStart: null\n};\n\nlet keysDown = {};\nlet controlKeysDown = {};\n\nlet init = canvas => {\n  $(canvas).on('mousemove', e => {\n    mouse.x = e.offsetX;\n    mouse.y = e.offsetY;\n    mouse.clicked = e.which == 1 && !mouse.down;\n    mouse.down = e.which == 1;\n    mouse.rightClicked = e.which == 3 && !mouse.rightDown;\n    mouse.rightDown = e.which == 3;\n    if (e.which == 1 && mouse.down && !mouse.clicked && mouse.dragging == false) {\n      mouse.dragging = true;\n      mouse.dragStart = { x: mouse.x, y: mouse.y };\n    }\n  });\n\n  $(canvas).on('mousedown', e => {\n    if (e.which == 1) {\n      mouse.clicked = !mouse.down;\n      mouse.down = true;\n    } else if (e.which == 3) {\n      mouse.rightClicked = !mouse.rightDown;\n      mouse.rightDown = true;\n    }\n  });\n\n  $(canvas).on('mouseup', e => {\n    if (e.which == 1) {\n      mouse.down = false;\n      mouse.clicked = false;\n      if (mouse.dragging) {\n        mouse.dragging = false;\n        mouse.dragStart = null;\n        $(canvas).css({ 'cursor': 'default' });\n      }\n    } else if (e.which == 3) {\n      mouse.rightDown = false;\n      mouse.rightClicked = false;\n    }\n  });\n\n  $(canvas).on('contextmenu', e => {\n    return false;\n  });\n\n  $(canvas).on('mouseleave', e => {\n    mouse.dragging = false;\n    mouse.dragStart = null;\n  });\n\n  $(document).on('keydown', e => {\n    if (!$.isEmptyObject(controlKeysDown)) {\n      controlKeysDown[e.keyCode] = true;\n      if (e.keyCode == 82) {\n        if (e.preventDefault) e.preventDefault();else return false;\n      }\n    } else keysDown[e.keyCode] = true;\n\n    if (e.keyCode == 17) {\n      controlKeysDown = keysDown;\n      keysDown = {};\n    }\n  });\n\n  $(document).on('keyup', e => {\n    if (!$.isEmptyObject(controlKeysDown)) {\n      delete controlKeysDown[e.keyCode];\n      if (e.keyCode == 17) {\n        keysDown = controlKeysDown;\n        controlKeysDown = {};\n      }\n    } else {\n      delete keysDown[e.keyCode];\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9ldmVudHMuanM/NDJlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgbW91c2UgPSB7XG4gIHg6IDAsXG4gIHk6IDAsXG4gIGNsaWNrZWQ6IGZhbHNlLFxuICBkb3duOiBmYWxzZSxcbiAgcmlnaHRDbGlja2VkOiBmYWxzZSxcbiAgcmlnaHREb3duOiBmYWxzZSxcbiAgZHJhZ2dpbmc6IGZhbHNlLFxuICBkcmFnU3RhcnQ6IG51bGxcbn1cblxubGV0IGtleXNEb3duID0ge31cbmxldCBjb250cm9sS2V5c0Rvd24gPSB7fVxuXG5sZXQgaW5pdCA9IChjYW52YXMpID0+IHtcbiAgJChjYW52YXMpLm9uKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICAgIG1vdXNlLnggPSBlLm9mZnNldFhcbiAgICBtb3VzZS55ID0gZS5vZmZzZXRZXG4gICAgbW91c2UuY2xpY2tlZCA9IChlLndoaWNoID09IDEgJiYgIW1vdXNlLmRvd24pXG4gICAgbW91c2UuZG93biA9IChlLndoaWNoID09IDEpXG4gICAgbW91c2UucmlnaHRDbGlja2VkID0gKGUud2hpY2ggPT0gMyAmJiAhbW91c2UucmlnaHREb3duKVxuICAgIG1vdXNlLnJpZ2h0RG93biA9IChlLndoaWNoID09IDMpXG4gICAgaWYoZS53aGljaCA9PSAxICYmIG1vdXNlLmRvd24gJiYgIW1vdXNlLmNsaWNrZWQgJiYgbW91c2UuZHJhZ2dpbmcgPT0gZmFsc2UpIHtcbiAgICAgIG1vdXNlLmRyYWdnaW5nID0gdHJ1ZVxuICAgICAgbW91c2UuZHJhZ1N0YXJ0ID0geyB4OiBtb3VzZS54LCB5OiBtb3VzZS55IH1cbiAgICB9XG4gIH0pO1xuXG4gICQoY2FudmFzKS5vbignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS53aGljaCA9PSAxKSB7XG4gICAgICBtb3VzZS5jbGlja2VkID0gIW1vdXNlLmRvd25cbiAgICAgIG1vdXNlLmRvd24gPSB0cnVlXG4gICAgfVxuICAgIGVsc2UgaWYgKGUud2hpY2ggPT0gMykge1xuICAgICAgbW91c2UucmlnaHRDbGlja2VkID0gIW1vdXNlLnJpZ2h0RG93blxuICAgICAgbW91c2UucmlnaHREb3duID0gdHJ1ZVxuICAgIH1cbiAgfSk7XG5cbiAgJChjYW52YXMpLm9uKCdtb3VzZXVwJywgKGUpID0+IHtcbiAgICBpZiAoZS53aGljaCA9PSAxKSB7XG4gICAgICBtb3VzZS5kb3duID0gZmFsc2VcbiAgICAgIG1vdXNlLmNsaWNrZWQgPSBmYWxzZVxuICAgICAgaWYgKG1vdXNlLmRyYWdnaW5nKSB7XG4gICAgICAgIG1vdXNlLmRyYWdnaW5nID0gZmFsc2VcbiAgICAgICAgbW91c2UuZHJhZ1N0YXJ0ID0gbnVsbFxuICAgICAgICAkKGNhbnZhcykuY3NzKHsnY3Vyc29yJyA6ICdkZWZhdWx0J30pXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGUud2hpY2ggPT0gMykge1xuICAgICAgbW91c2UucmlnaHREb3duID0gZmFsc2VcbiAgICAgIG1vdXNlLnJpZ2h0Q2xpY2tlZCA9IGZhbHNlXG4gICAgfVxuICB9KTtcblxuICAkKGNhbnZhcykub24oJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfSk7XG5cbiAgJChjYW52YXMpLm9uKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcbiAgICBtb3VzZS5kcmFnZ2luZyA9IGZhbHNlXG4gICAgbW91c2UuZHJhZ1N0YXJ0ID0gIG51bGxcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmKCEkLmlzRW1wdHlPYmplY3QoY29udHJvbEtleXNEb3duKSkge1xuICAgICAgY29udHJvbEtleXNEb3duW2Uua2V5Q29kZV0gPSB0cnVlXG4gICAgICBpZihlLmtleUNvZGUgPT0gODIpIHtcbiAgICAgICAgaWYoZS5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAgICBrZXlzRG93bltlLmtleUNvZGVdID0gdHJ1ZVxuXG4gICAgaWYoZS5rZXlDb2RlID09IDE3KSB7XG4gICAgICBjb250cm9sS2V5c0Rvd24gPSBrZXlzRG93blxuICAgICAga2V5c0Rvd24gPSB7fVxuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2tleXVwJywgKGUpID0+IHtcbiAgICBpZighJC5pc0VtcHR5T2JqZWN0KGNvbnRyb2xLZXlzRG93bikpIHtcbiAgICAgIGRlbGV0ZSBjb250cm9sS2V5c0Rvd25bZS5rZXlDb2RlXVxuICAgICAgaWYoZS5rZXlDb2RlID09IDE3KSB7XG4gICAgICAgIGtleXNEb3duID0gY29udHJvbEtleXNEb3duXG4gICAgICAgIGNvbnRyb2xLZXlzRG93biA9IHt9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVsZXRlIGtleXNEb3duW2Uua2V5Q29kZV1cbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBpbml0LCBtb3VzZSwga2V5c0Rvd24sIGNvbnRyb2xLZXlzRG93biB9XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/events.js\n");

/***/ }),

/***/ "./src/game.js":
/*!*********************!*\
  !*** ./src/game.js ***!
  \*********************/
/*! exports provided: AssetManager, setState, state, sprites, uiElements, environmentElements, canvas, ctx, events, update, draw, init */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setState\", function() { return setState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"state\", function() { return state; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sprites\", function() { return sprites; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uiElements\", function() { return uiElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environmentElements\", function() { return environmentElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvas\", function() { return canvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ctx\", function() { return ctx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"events\", function() { return events; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"update\", function() { return update; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw\", function() { return draw; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entity.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ \"./src/events.js\");\n/* harmony import */ var _asset_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./asset_manager */ \"./src/asset_manager.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"AssetManager\", function() { return _asset_manager__WEBPACK_IMPORTED_MODULE_2__; });\n/* harmony import */ var _main_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./main_menu */ \"./src/main_menu.js\");\n/* harmony import */ var _map_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./map_editor */ \"./src/map_editor.js\");\n\n\n\n\n\n\nconst States = ['loading', 'ready', 'paused', 'menu'];\n\nlet canvas = undefined;\nlet ctx = undefined;\nlet events = _events__WEBPACK_IMPORTED_MODULE_1__;\nlet state = 'begin';\nlet previousState;\nlet sprites = new _entity__WEBPACK_IMPORTED_MODULE_0__[\"EntityList\"]();\nlet uiElements = new _entity__WEBPACK_IMPORTED_MODULE_0__[\"EntityList\"]();\nlet environmentElements = new _entity__WEBPACK_IMPORTED_MODULE_0__[\"EntityList\"]();\n\nlet update = () => {\n  switch (state) {\n    case 'begin':\n      state = 'idle';\n      _asset_manager__WEBPACK_IMPORTED_MODULE_2__[\"loadAssets\"](() => {\n        state = \"load_main_menu\";\n        console.log(\"Loaded assets\");\n        uiElements.clear();\n      });\n      break;\n    case 'load_main_menu':\n      state = 'main_menu';\n      _main_menu__WEBPACK_IMPORTED_MODULE_3__[\"init\"]();\n      break;\n    case 'main_menu':\n      uiElements.update();\n      break;\n    case 'load_map_editor':\n      state = 'map_editor';\n      _map_editor__WEBPACK_IMPORTED_MODULE_4__[\"init\"]();\n      break;\n    case 'map_editor':\n      _map_editor__WEBPACK_IMPORTED_MODULE_4__[\"update\"]();\n      sprites.update();\n      uiElements.update();\n      environmentElements.update();\n      break;\n    case 'pause':\n      uiElements.update();\n      break;\n    default:\n    //console.log(\"No state matches in update loop\")\n  }\n};\n\nlet draw = () => {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  sprites.draw();\n  environmentElements.draw();\n  uiElements.draw();\n};\n\nlet setState = _state => {\n  previousState = state;\n  state = _state;\n};\n\nlet init = () => {\n  canvas = document.getElementById(\"map_editor\");\n  canvas.pos = { x: 0, y: 0 };\n  ctx = canvas.getContext(\"2d\");\n  events.init(canvas);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZ2FtZS5qcz9iNjg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSwgRW50aXR5TGlzdCB9IGZyb20gJy4vZW50aXR5J1xuaW1wb3J0ICogYXMgRXZlbnRzIGZyb20gJy4vZXZlbnRzJ1xuaW1wb3J0ICogYXMgQXNzZXRNYW5hZ2VyIGZyb20gJy4vYXNzZXRfbWFuYWdlcidcbmltcG9ydCAqIGFzIE1haW5NZW51IGZyb20gJy4vbWFpbl9tZW51J1xuaW1wb3J0ICogYXMgTWFwRWRpdG9yIGZyb20gJy4vbWFwX2VkaXRvcidcblxuY29uc3QgU3RhdGVzID0gWydsb2FkaW5nJywgJ3JlYWR5JywgJ3BhdXNlZCcsICdtZW51J11cblxuXG5sZXQgY2FudmFzID0gdW5kZWZpbmVkXG5sZXQgY3R4ID0gdW5kZWZpbmVkXG5sZXQgZXZlbnRzID0gRXZlbnRzXG5sZXQgc3RhdGUgPSAnYmVnaW4nXG5sZXQgcHJldmlvdXNTdGF0ZVxubGV0IHNwcml0ZXMgPSBuZXcgRW50aXR5TGlzdCgpXG5sZXQgdWlFbGVtZW50cyA9IG5ldyBFbnRpdHlMaXN0KClcbmxldCBlbnZpcm9ubWVudEVsZW1lbnRzID0gbmV3IEVudGl0eUxpc3QoKVxuXG5sZXQgdXBkYXRlID0gKCkgPT4ge1xuICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgY2FzZSAnYmVnaW4nOlxuICAgICAgc3RhdGUgPSAnaWRsZSdcbiAgICAgIEFzc2V0TWFuYWdlci5sb2FkQXNzZXRzKCgpID0+IHtcbiAgICAgICAgc3RhdGUgPSBcImxvYWRfbWFpbl9tZW51XCI7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIGFzc2V0c1wiKTtcbiAgICAgICAgdWlFbGVtZW50cy5jbGVhcigpXG4gICAgICB9KVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdsb2FkX21haW5fbWVudSc6XG4gICAgICBzdGF0ZSA9ICdtYWluX21lbnUnXG4gICAgICBNYWluTWVudS5pbml0KClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnbWFpbl9tZW51JzpcbiAgICAgIHVpRWxlbWVudHMudXBkYXRlKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnbG9hZF9tYXBfZWRpdG9yJzpcbiAgICAgIHN0YXRlID0gJ21hcF9lZGl0b3InXG4gICAgICBNYXBFZGl0b3IuaW5pdCgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ21hcF9lZGl0b3InOlxuICAgICAgTWFwRWRpdG9yLnVwZGF0ZSgpXG4gICAgICBzcHJpdGVzLnVwZGF0ZSgpXG4gICAgICB1aUVsZW1lbnRzLnVwZGF0ZSgpXG4gICAgICBlbnZpcm9ubWVudEVsZW1lbnRzLnVwZGF0ZSgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3BhdXNlJzpcbiAgICAgIHVpRWxlbWVudHMudXBkYXRlKClcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vY29uc29sZS5sb2coXCJObyBzdGF0ZSBtYXRjaGVzIGluIHVwZGF0ZSBsb29wXCIpXG4gIH1cbn1cblxubGV0IGRyYXcgPSAoKSA9PiB7XG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxuICBzcHJpdGVzLmRyYXcoKVxuICBlbnZpcm9ubWVudEVsZW1lbnRzLmRyYXcoKVxuICB1aUVsZW1lbnRzLmRyYXcoKVxufVxuXG5sZXQgc2V0U3RhdGUgPSAoX3N0YXRlKSA9PiB7XG4gIHByZXZpb3VzU3RhdGUgPSBzdGF0ZVxuICBzdGF0ZSA9IF9zdGF0ZVxufVxuXG5sZXQgaW5pdCA9ICgpID0+IHtcbiAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfZWRpdG9yXCIpXG4gIGNhbnZhcy5wb3MgPSB7IHg6IDAsIHk6IDAgfVxuICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXG4gIGV2ZW50cy5pbml0KGNhbnZhcylcbn1cblxuZXhwb3J0IHtcbiAgQXNzZXRNYW5hZ2VyLFxuICBzZXRTdGF0ZSxcbiAgc3RhdGUsXG4gIHNwcml0ZXMsXG4gIHVpRWxlbWVudHMsXG4gIGVudmlyb25tZW50RWxlbWVudHMsXG4gIGNhbnZhcyxcbiAgY3R4LFxuICBldmVudHMsXG4gIHVwZGF0ZSxcbiAgZHJhdyxcbiAgaW5pdFxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/game.js\");\n\n\nwindow.Game = _game__WEBPACK_IMPORTED_MODULE_0__;\n\nconst FPS = 60;\n\nconst AnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || null;\n\n$(document).ready(() => {\n  Game.init();\n\n  if (AnimationFrame) {\n    let updateLoop = () => {\n      Game.update();\n      AnimationFrame(updateLoop);\n    };\n    let drawLoop = () => {\n      Game.draw();\n      AnimationFrame(drawLoop);\n    };\n\n    updateLoop();\n    drawLoop();\n  } else {\n    setInterval(Game.update, 1000 / FPS);\n    setInterval(Game.draw, 1000 / FPS);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LmpzPzEyZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZ2FtZSBmcm9tICcuL2dhbWUnXG5cbndpbmRvdy5HYW1lID0gZ2FtZVxuXG5jb25zdCBGUFMgPSA2MFxuXG5jb25zdCBBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgbnVsbDtcblxuJChkb2N1bWVudCkucmVhZHkoICgpID0+IHtcbiAgR2FtZS5pbml0KClcblxuICBpZihBbmltYXRpb25GcmFtZSkge1xuICAgIGxldCB1cGRhdGVMb29wID0gKCkgPT4ge1xuICAgICAgR2FtZS51cGRhdGUoKVxuICAgICAgQW5pbWF0aW9uRnJhbWUodXBkYXRlTG9vcClcbiAgICB9XG4gICAgbGV0IGRyYXdMb29wID0gKCkgPT4ge1xuICAgICAgR2FtZS5kcmF3KClcbiAgICAgIEFuaW1hdGlvbkZyYW1lKGRyYXdMb29wKVxuICAgIH1cblxuICAgIHVwZGF0ZUxvb3AoKVxuICAgIGRyYXdMb29wKClcbiAgfVxuICBlbHNlIHtcbiAgICBzZXRJbnRlcnZhbChHYW1lLnVwZGF0ZSwgMTAwMC9GUFMpXG4gICAgc2V0SW50ZXJ2YWwoR2FtZS5kcmF3LCAxMDAwL0ZQUylcbiAgfVxufSlcblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/main_menu.js":
/*!**************************!*\
  !*** ./src/main_menu.js ***!
  \**************************/
/*! exports provided: buttons, init, draw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buttons\", function() { return buttons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw\", function() { return draw; });\n/* harmony import */ var _ui_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/ui */ \"./src/ui/ui.js\");\n\n\nlet buttons = [];\nlet canvas = undefined;\nlet ctx = undefined;\n\nlet draw = () => {\n  for (let button of buttons) {\n    buttons.draw();\n  }\n};\n\nlet init = () => {\n  canvas = Game.canvas;\n  ctx = Game.ctx;\n\n  let loadMapEditor = () => {\n    Game.uiElements.clear();\n    Game.setState('load_map_editor');\n  };\n\n  let loadSettings = () => {\n    console.log(\"Stubbing settings load action\");\n  };\n\n  let buttonGrid = new _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Grid(canvas, {\n    width: \"20%\",\n    height: \"50%\",\n    rowHeight: 30,\n    margin: 30,\n    rowMargin: 10,\n    verticalAlignment: \"bottom\",\n    rows: [[{\n      className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n      properties: { text: \"Map Editor\", event_object: Game.events, clickAction: loadMapEditor }\n    }], [{\n      className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n      properties: { text: \"Settings\", event_object: Game.events, clickAction: loadSettings }\n    }]]\n  });\n\n  Game.sprites.clear();\n  Game.environmentElements.clear();\n  Game.uiElements.clear();\n\n  Game.uiElements.push(buttonGrid);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbl9tZW51LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9tYWluX21lbnUuanM/ZWVlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVSSB9IGZyb20gJy4vdWkvdWknXG5cbmxldCBidXR0b25zID0gW11cbmxldCBjYW52YXMgPSB1bmRlZmluZWRcbmxldCBjdHggPSB1bmRlZmluZWRcblxubGV0IGRyYXcgPSAoKSA9PiB7XG4gIGZvciAobGV0IGJ1dHRvbiBvZiBidXR0b25zKSB7XG4gICAgYnV0dG9ucy5kcmF3KClcbiAgfVxufVxuXG5sZXQgaW5pdCA9ICgpID0+IHtcbiAgY2FudmFzID0gR2FtZS5jYW52YXNcbiAgY3R4ID0gR2FtZS5jdHhcblxuICBsZXQgbG9hZE1hcEVkaXRvciA9ICgpID0+IHtcbiAgICBHYW1lLnVpRWxlbWVudHMuY2xlYXIoKVxuICAgIEdhbWUuc2V0U3RhdGUoJ2xvYWRfbWFwX2VkaXRvcicpXG4gIH1cblxuICBsZXQgbG9hZFNldHRpbmdzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiU3R1YmJpbmcgc2V0dGluZ3MgbG9hZCBhY3Rpb25cIilcbiAgfVxuXG4gIGxldCBidXR0b25HcmlkID0gbmV3IFVJLkdyaWQoY2FudmFzLCB7XG4gICAgd2lkdGg6IFwiMjAlXCIsXG4gICAgaGVpZ2h0OiBcIjUwJVwiLFxuICAgIHJvd0hlaWdodDogMzAsXG4gICAgbWFyZ2luOiAzMCxcbiAgICByb3dNYXJnaW46IDEwLFxuICAgIHZlcnRpY2FsQWxpZ25tZW50OiBcImJvdHRvbVwiLFxuICAgIHJvd3M6IFtcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogVUkuQnV0dG9uLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHt0ZXh0OiBcIk1hcCBFZGl0b3JcIiwgZXZlbnRfb2JqZWN0OiBHYW1lLmV2ZW50cywgY2xpY2tBY3Rpb246IGxvYWRNYXBFZGl0b3J9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFVJLkJ1dHRvbixcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7dGV4dDogXCJTZXR0aW5nc1wiLCBldmVudF9vYmplY3Q6IEdhbWUuZXZlbnRzLCBjbGlja0FjdGlvbjogbG9hZFNldHRpbmdzfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgXVxuICB9KVxuXG4gIEdhbWUuc3ByaXRlcy5jbGVhcigpXG4gIEdhbWUuZW52aXJvbm1lbnRFbGVtZW50cy5jbGVhcigpXG4gIEdhbWUudWlFbGVtZW50cy5jbGVhcigpXG5cbiAgR2FtZS51aUVsZW1lbnRzLnB1c2goYnV0dG9uR3JpZClcbn1cblxuXG5leHBvcnQgeyBidXR0b25zLCBpbml0LCBkcmF3IH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFGQTtBQU9BO0FBQ0E7QUFGQTtBQWZBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main_menu.js\n");

/***/ }),

/***/ "./src/map.js":
/*!********************!*\
  !*** ./src/map.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Map; });\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./texture */ \"./src/texture.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ \"./src/collision.js\");\n\n\n\nclass Command {\n  constructor(list, previous, next, command, params) {\n    Command.id = Command.id === undefined ? 1 : Command.id;\n    this.id = Command.id++;\n    this.list = list;\n    this.command = command;\n    this.params = params;\n    this.previous = previous;\n    this.next = next;\n  }\n\n  merge(params) {\n    this.params = this.params.concat(params);\n  }\n\n  reverseCommand() {\n    switch (this.command) {\n      case 'addTile':\n        this.list.map.viewPort.moveToObject(this.params[0].pos);\n        setTimeout(function () {\n          for (let texture of this.params) {\n            this.list.map.removeTileFromHistory(texture);\n          }\n        }.bind(this), 100);\n        break;\n      case 'eraseTile':\n        this.list.map.viewPort.moveToObject(this.params[0].pos);\n        setTimeout(function () {\n          for (let texture of this.params) {\n            this.list.map.addTileFromHistory(texture);\n          }\n        }.bind(this), 100);\n        break;\n      default:\n        console.error(`Trying to undo unknown command: ${this.command}`);\n    }\n  }\n\n  applyCommand() {\n    switch (this.command) {\n      case 'addTile':\n        this.list.map.viewPort.moveToObject(this.params[0].pos);\n        setTimeout(function () {\n          for (let texture of this.params) {\n            this.list.map.addTileFromHistory(texture);\n          }\n        }.bind(this), 100);\n        break;\n      case 'eraseTile':\n        this.list.map.viewPort.moveToObject(this.params[0].pos);\n        setTimeout(function () {\n          for (let texture of this.params) {\n            this.list.map.removeTileFromHistory(texture);\n          }\n        }.bind(this), 100);\n        break;\n      default:\n        console.error(`Trying to redo unknown command: ${this.command}`);\n    }\n  }\n}\n\nclass CommandHistory {\n  constructor(map) {\n    this.map = map;\n    this.head = null;\n    this.tail = null;\n    this.current = null;\n    this.length = 0;\n  }\n\n  print() {\n    let current = this.head;\n    let str = '';\n    while (current) {\n      if (current.id == this.head.id) str += \"HEAD\";else if (this.current && current.id == this.current.id) str += \"CURRENT\";else if (current.id == this.tail.id) str += \"TAIL\";else str += current.id;\n\n      str += \"-\" + current.params.length;\n\n      if (current.next) str += \" --> \";\n      current = current.next;\n    }\n    console.log(str);\n  }\n\n  push(commandString, params) {\n    let command = new Command(this, this.current, null, commandString, params);\n\n    if (!this.head) this.head = command;\n\n    if (this.current) {\n      this.current.next = command;\n    }\n\n    this.current = command;\n    this.tail = this.current;\n\n    if (this.length > 40) this.head = this.head.next;else this.length++;\n  }\n\n  merge(params) {\n    if (this.current) {\n      this.current.merge(params);\n    }\n  }\n\n  undo() {\n    if (this.current) {\n      this.current.reverseCommand();\n      this.current = this.current.previous;\n      this.length--;\n    }\n  }\n\n  redo() {\n    if (this.current) {\n      if (this.current.next) {\n        this.current = this.current.next;\n        this.current.applyCommand();\n        this.length++;\n      }\n    } else if (this.head) {\n      this.current = this.head;\n      this.current.applyCommand();\n      this.length = 1;\n    }\n  }\n}\n\nclass Map {\n  constructor(width, height, textureSize, id = null) {\n    this.id = id;\n    this.width = Math.trunc(width / textureSize) * textureSize;\n    this.height = Math.trunc(height / textureSize) * textureSize;\n    this.textureSize = textureSize;\n    this.columns = this.width / textureSize;\n    this.rows = this.height / textureSize;\n    this.viewPort = null;\n\n    this.map = [];\n    this.layout = [];\n\n    for (let column = 0; column < this.columns; column++) {\n      this.map[column] = [];\n      this.layout[column] = [];\n    }\n    this.commandHistory = new CommandHistory(this);\n  }\n\n  save() {\n    let url = \"/maps\";\n\n    if (this.id) url += `/${this.id}`;\n\n    this.serialize();\n\n    $.ajax({\n      method: \"POST\",\n      url: url,\n      data: { layout: JSON.stringify(this.layout) },\n      error: error => {\n        console.log(`ERROR: response text: ${error.responseText}, status: ${error.status}`);\n      },\n      success: data => {\n        this.id = data[\"map_id\"];\n        console.log(\"Set map id to \" + this.id);\n      }\n    });\n  }\n\n  serialize() {\n    for (let column = 0; column < this.columns; column++) {\n      for (let row = 0; row < this.rows; row++) {\n        let square = this.map[column][row];\n        if (square) this.layout[column][row] = square.key;else this.layout[column][row] = null;\n      }\n    }\n  }\n\n  calculateAbsolutePosition(pos) {\n    if (this.viewPort) {\n      let sideMenuWidth = Game.canvas.width - this.viewPort.width;\n      var x = this.viewPort.pos.x + (pos.x - sideMenuWidth);\n      var y = this.viewPort.pos.y + pos.y;\n    } else {\n      var x = pos.x;\n      var y = pos.y;\n    }\n    return [x, y];\n  }\n\n  xyToColRow(pos) {\n    let column = Math.trunc(pos.x / this.textureSize);\n    let row = Math.trunc(pos.y / this.textureSize);\n    return [column, row];\n  }\n\n  addTile(_texture, addToLastCommand) {\n    let [x, y] = this.calculateAbsolutePosition(_texture.pos);\n    let [column, row] = this.xyToColRow({ x, y });\n\n    let texture = new _texture__WEBPACK_IMPORTED_MODULE_0__[\"default\"](x, y, _texture.key, _texture.img);\n\n    this.map[column][row] = texture;\n    if (addToLastCommand && this.commandHistory.current.command == 'addTile') {\n      this.commandHistory.merge([texture]);\n    } else {\n      this.commandHistory.push(\"addTile\", [texture]);\n    }\n  }\n\n  addTileFromHistory(texture) {\n    let [column, row] = this.xyToColRow({ x: texture.pos.x, y: texture.pos.y });\n    this.map[column][row] = texture;\n  }\n\n  removeTile(relativePos, addToLastCommand) {\n    let [x, y] = this.calculateAbsolutePosition(relativePos);\n    let [column, row] = this.xyToColRow({ x, y });\n\n    let texture = this.map[column][row];\n    if (texture === undefined) return false;\n    this.map[column][row] = undefined;\n    if (addToLastCommand && this.commandHistory.current.command == 'eraseTile') {\n      this.commandHistory.merge([texture]);\n    } else {\n      this.commandHistory.push(\"eraseTile\", [texture]);\n    }\n    return true;\n  }\n\n  removeTileFromHistory(texture) {\n    let column = Math.trunc(texture.pos.x / texture.width);\n    let row = Math.trunc(texture.pos.y / texture.height);\n    this.map[column][row] = undefined;\n  }\n\n  draw() {\n    if (this.viewPort) {\n      var startColumn = Math.trunc(this.viewPort.pos.x / this.textureSize);\n      var endColumn = startColumn + Math.trunc(this.viewPort.width / this.textureSize);\n      var startRow = Math.trunc(this.viewPort.pos.y / this.textureSize);\n      var endRow = startRow + Math.trunc(this.viewPort.height / this.textureSize);\n    } else {\n      var startColumn = 0;\n      var endColumn = startColumn + Math.trunc(Game.canvas.width / this.textureSize);\n      var startRow = 0;\n      var endRow = startRow + Math.trunc(Game.canvas.height / this.textureSize);\n    }\n\n    for (let column = startColumn; column <= endColumn; column++) {\n      for (let row = startRow; row <= endRow; row++) {\n        if (!this.map[column] || !this.map[column][row]) continue;\n\n        let texture = this.map[column][row];\n\n        if (texture === undefined) continue;\n\n        let absolutePosition = { x: column * this.textureSize, y: row * this.textureSize };\n        let pos = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorDifference\"](absolutePosition, this.viewPort.pos);\n        let relativePosition = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorSum\"](pos, { x: Game.canvas.width - this.viewPort.width, y: 0 });\n\n        Game.ctx.drawImage(texture.img, relativePosition.x, relativePosition.y, texture.width, texture.height);\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9tYXAuanM/NTE3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnXG5pbXBvcnQgKiBhcyBDb2xsaXNpb24gZnJvbSAnLi9jb2xsaXNpb24nXG5cbmNsYXNzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihsaXN0LCBwcmV2aW91cywgbmV4dCwgY29tbWFuZCwgcGFyYW1zKSB7XG4gICAgQ29tbWFuZC5pZCA9IChDb21tYW5kLmlkID09PSB1bmRlZmluZWQpID8gMSA6IENvbW1hbmQuaWRcbiAgICB0aGlzLmlkID0gQ29tbWFuZC5pZCsrXG4gICAgdGhpcy5saXN0ID0gbGlzdFxuICAgIHRoaXMuY29tbWFuZCA9IGNvbW1hbmRcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtc1xuICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91c1xuICAgIHRoaXMubmV4dCA9IG5leHRcbiAgfVxuXG4gIG1lcmdlKHBhcmFtcykge1xuICAgIHRoaXMucGFyYW1zID0gdGhpcy5wYXJhbXMuY29uY2F0KHBhcmFtcylcbiAgfVxuXG4gIHJldmVyc2VDb21tYW5kKCkge1xuICAgIHN3aXRjaCAodGhpcy5jb21tYW5kKSB7XG4gICAgICBjYXNlICdhZGRUaWxlJzpcbiAgICAgICAgdGhpcy5saXN0Lm1hcC52aWV3UG9ydC5tb3ZlVG9PYmplY3QodGhpcy5wYXJhbXNbMF0ucG9zKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvcihsZXQgdGV4dHVyZSBvZiB0aGlzLnBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5saXN0Lm1hcC5yZW1vdmVUaWxlRnJvbUhpc3RvcnkodGV4dHVyZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZXJhc2VUaWxlJzpcbiAgICAgICAgdGhpcy5saXN0Lm1hcC52aWV3UG9ydC5tb3ZlVG9PYmplY3QodGhpcy5wYXJhbXNbMF0ucG9zKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvcihsZXQgdGV4dHVyZSBvZiB0aGlzLnBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5saXN0Lm1hcC5hZGRUaWxlRnJvbUhpc3RvcnkodGV4dHVyZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihgVHJ5aW5nIHRvIHVuZG8gdW5rbm93biBjb21tYW5kOiAke3RoaXMuY29tbWFuZH1gKVxuICAgIH1cbiAgfVxuXG4gIGFwcGx5Q29tbWFuZCgpIHtcbiAgICBzd2l0Y2godGhpcy5jb21tYW5kKSB7XG4gICAgICBjYXNlICdhZGRUaWxlJzpcbiAgICAgICAgdGhpcy5saXN0Lm1hcC52aWV3UG9ydC5tb3ZlVG9PYmplY3QodGhpcy5wYXJhbXNbMF0ucG9zKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvcihsZXQgdGV4dHVyZSBvZiB0aGlzLnBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5saXN0Lm1hcC5hZGRUaWxlRnJvbUhpc3RvcnkodGV4dHVyZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZXJhc2VUaWxlJzpcbiAgICAgICAgdGhpcy5saXN0Lm1hcC52aWV3UG9ydC5tb3ZlVG9PYmplY3QodGhpcy5wYXJhbXNbMF0ucG9zKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvcihsZXQgdGV4dHVyZSBvZiB0aGlzLnBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5saXN0Lm1hcC5yZW1vdmVUaWxlRnJvbUhpc3RvcnkodGV4dHVyZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihgVHJ5aW5nIHRvIHJlZG8gdW5rbm93biBjb21tYW5kOiAke3RoaXMuY29tbWFuZH1gKVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBDb21tYW5kSGlzdG9yeSB7XG4gIGNvbnN0cnVjdG9yKG1hcCkge1xuICAgIHRoaXMubWFwID0gbWFwXG4gICAgdGhpcy5oZWFkID0gbnVsbFxuICAgIHRoaXMudGFpbCA9IG51bGxcbiAgICB0aGlzLmN1cnJlbnQgPSBudWxsXG4gICAgdGhpcy5sZW5ndGggPSAwXG4gIH1cblxuICBwcmludCgpIHtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuaGVhZFxuICAgIGxldCBzdHIgPSAnJ1xuICAgIHdoaWxlKGN1cnJlbnQpIHtcbiAgICAgIGlmIChjdXJyZW50LmlkID09IHRoaXMuaGVhZC5pZClcbiAgICAgICAgc3RyICs9IFwiSEVBRFwiXG4gICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnQgJiYgY3VycmVudC5pZCA9PSB0aGlzLmN1cnJlbnQuaWQpXG4gICAgICAgIHN0ciArPSBcIkNVUlJFTlRcIlxuICAgICAgZWxzZSBpZiAoY3VycmVudC5pZCA9PSB0aGlzLnRhaWwuaWQpXG4gICAgICAgIHN0ciArPSBcIlRBSUxcIlxuICAgICAgZWxzZVxuICAgICAgICBzdHIgKz0gY3VycmVudC5pZFxuXG4gICAgICBzdHIgKz0gXCItXCIgKyBjdXJyZW50LnBhcmFtcy5sZW5ndGhcblxuICAgICAgaWYoY3VycmVudC5uZXh0KVxuICAgICAgICBzdHIgKz0gXCIgLS0+IFwiXG4gICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0XG4gICAgfVxuICAgICAgY29uc29sZS5sb2coc3RyKVxuICB9XG5cbiAgcHVzaChjb21tYW5kU3RyaW5nLCBwYXJhbXMpIHtcbiAgICBsZXQgY29tbWFuZCA9IG5ldyBDb21tYW5kKHRoaXMsIHRoaXMuY3VycmVudCwgbnVsbCwgY29tbWFuZFN0cmluZywgcGFyYW1zKVxuXG4gICAgaWYoIXRoaXMuaGVhZClcbiAgICAgIHRoaXMuaGVhZCA9IGNvbW1hbmRcblxuICAgIGlmKHRoaXMuY3VycmVudCkge1xuICAgICAgdGhpcy5jdXJyZW50Lm5leHQgPSBjb21tYW5kXG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50ID0gY29tbWFuZFxuICAgIHRoaXMudGFpbCA9IHRoaXMuY3VycmVudFxuXG4gICAgaWYodGhpcy5sZW5ndGggPiA0MClcbiAgICAgIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0XG4gICAgZWxzZVxuICAgICAgdGhpcy5sZW5ndGgrK1xuICB9XG5cbiAgbWVyZ2UocGFyYW1zKSB7XG4gICAgaWYodGhpcy5jdXJyZW50KSB7XG4gICAgICB0aGlzLmN1cnJlbnQubWVyZ2UocGFyYW1zKVxuICAgIH1cbiAgfVxuXG4gIHVuZG8oKSB7XG4gICAgaWYodGhpcy5jdXJyZW50KSB7XG4gICAgICB0aGlzLmN1cnJlbnQucmV2ZXJzZUNvbW1hbmQoKVxuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5jdXJyZW50LnByZXZpb3VzXG4gICAgICB0aGlzLmxlbmd0aC0tXG4gICAgfVxuICB9XG5cbiAgcmVkbygpIHtcbiAgICBpZih0aGlzLmN1cnJlbnQpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnQubmV4dCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQubmV4dFxuICAgICAgICB0aGlzLmN1cnJlbnQuYXBwbHlDb21tYW5kKClcbiAgICAgICAgdGhpcy5sZW5ndGgrK1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmKHRoaXMuaGVhZCkge1xuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5oZWFkXG4gICAgICB0aGlzLmN1cnJlbnQuYXBwbHlDb21tYW5kKClcbiAgICAgIHRoaXMubGVuZ3RoID0gMVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCB0ZXh0dXJlU2l6ZSwgaWQgPSBudWxsKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy53aWR0aCA9IE1hdGgudHJ1bmMod2lkdGggLyB0ZXh0dXJlU2l6ZSkgKiB0ZXh0dXJlU2l6ZVxuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC50cnVuYyhoZWlnaHQgLyB0ZXh0dXJlU2l6ZSkgKiB0ZXh0dXJlU2l6ZVxuICAgIHRoaXMudGV4dHVyZVNpemUgPSB0ZXh0dXJlU2l6ZVxuICAgIHRoaXMuY29sdW1ucyA9IHRoaXMud2lkdGggLyB0ZXh0dXJlU2l6ZVxuICAgIHRoaXMucm93cyA9IHRoaXMuaGVpZ2h0IC8gdGV4dHVyZVNpemVcbiAgICB0aGlzLnZpZXdQb3J0ID0gbnVsbFxuXG4gICAgdGhpcy5tYXAgPSBbXVxuICAgIHRoaXMubGF5b3V0ID0gW11cblxuICAgIGZvcihsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5jb2x1bW5zOyBjb2x1bW4rKykge1xuICAgICAgdGhpcy5tYXBbY29sdW1uXSA9IFtdXG4gICAgICB0aGlzLmxheW91dFtjb2x1bW5dID0gW11cbiAgICB9XG4gICAgdGhpcy5jb21tYW5kSGlzdG9yeSA9IG5ldyBDb21tYW5kSGlzdG9yeSh0aGlzKVxuICB9XG5cbiAgc2F2ZSgpIHtcbiAgICBsZXQgdXJsID0gXCIvbWFwc1wiXG5cbiAgICBpZih0aGlzLmlkKVxuICAgICAgdXJsICs9IGAvJHt0aGlzLmlkfWBcblxuICAgIHRoaXMuc2VyaWFsaXplKClcblxuICAgICQuYWpheCh7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiB7IGxheW91dDogSlNPTi5zdHJpbmdpZnkodGhpcy5sYXlvdXQpfSxcbiAgICAgIGVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEVSUk9SOiByZXNwb25zZSB0ZXh0OiAke2Vycm9yLnJlc3BvbnNlVGV4dH0sIHN0YXR1czogJHtlcnJvci5zdGF0dXN9YClcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmlkID0gZGF0YVtcIm1hcF9pZFwiXVxuICAgICAgICBjb25zb2xlLmxvZyhcIlNldCBtYXAgaWQgdG8gXCIgKyB0aGlzLmlkKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2VyaWFsaXplKCkge1xuICAgIGZvcihsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgdGhpcy5jb2x1bW5zOyBjb2x1bW4rKykge1xuICAgICAgZm9yKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLnJvd3M7IHJvdysrKSB7XG4gICAgICAgIGxldCBzcXVhcmUgPSB0aGlzLm1hcFtjb2x1bW5dW3Jvd11cbiAgICAgICAgaWYoc3F1YXJlKVxuICAgICAgICAgIHRoaXMubGF5b3V0W2NvbHVtbl1bcm93XSA9IHNxdWFyZS5rZXlcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMubGF5b3V0W2NvbHVtbl1bcm93XSA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxjdWxhdGVBYnNvbHV0ZVBvc2l0aW9uKHBvcykge1xuICAgIGlmKHRoaXMudmlld1BvcnQpIHtcbiAgICAgIGxldCBzaWRlTWVudVdpZHRoID0gR2FtZS5jYW52YXMud2lkdGggLSB0aGlzLnZpZXdQb3J0LndpZHRoXG4gICAgICB2YXIgeCA9IHRoaXMudmlld1BvcnQucG9zLnggKyAocG9zLnggLSBzaWRlTWVudVdpZHRoKVxuICAgICAgdmFyIHkgPSB0aGlzLnZpZXdQb3J0LnBvcy55ICsgcG9zLnlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgeCA9IHBvcy54XG4gICAgICB2YXIgeSA9IHBvcy55XG4gICAgfVxuICAgIHJldHVybiBbeCwgeV1cbiAgfVxuXG4gIHh5VG9Db2xSb3cocG9zKSB7XG4gICAgbGV0IGNvbHVtbiA9IE1hdGgudHJ1bmMocG9zLnggLyB0aGlzLnRleHR1cmVTaXplKVxuICAgIGxldCByb3cgPSBNYXRoLnRydW5jKHBvcy55IC8gdGhpcy50ZXh0dXJlU2l6ZSlcbiAgICByZXR1cm4gW2NvbHVtbiwgcm93XVxuICB9XG5cbiAgYWRkVGlsZShfdGV4dHVyZSwgYWRkVG9MYXN0Q29tbWFuZCkge1xuICAgIGxldCBbeCwgeV0gPSB0aGlzLmNhbGN1bGF0ZUFic29sdXRlUG9zaXRpb24oX3RleHR1cmUucG9zKVxuICAgIGxldCBbY29sdW1uLCByb3ddID0gdGhpcy54eVRvQ29sUm93KHt4LCB5fSlcblxuICAgIGxldCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoeCwgeSwgX3RleHR1cmUua2V5LCBfdGV4dHVyZS5pbWcpXG5cbiAgICB0aGlzLm1hcFtjb2x1bW5dW3Jvd10gPSB0ZXh0dXJlXG4gICAgaWYoYWRkVG9MYXN0Q29tbWFuZCAmJiB0aGlzLmNvbW1hbmRIaXN0b3J5LmN1cnJlbnQuY29tbWFuZCA9PSAnYWRkVGlsZScpIHtcbiAgICAgIHRoaXMuY29tbWFuZEhpc3RvcnkubWVyZ2UoW3RleHR1cmVdKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY29tbWFuZEhpc3RvcnkucHVzaChcImFkZFRpbGVcIiwgW3RleHR1cmVdKVxuICAgIH1cbiAgfVxuXG4gIGFkZFRpbGVGcm9tSGlzdG9yeSh0ZXh0dXJlKSB7XG4gICAgbGV0IFtjb2x1bW4sIHJvd10gPSB0aGlzLnh5VG9Db2xSb3coe3g6IHRleHR1cmUucG9zLngsIHk6IHRleHR1cmUucG9zLnl9KVxuICAgIHRoaXMubWFwW2NvbHVtbl1bcm93XSA9IHRleHR1cmVcbiAgfVxuXG4gIHJlbW92ZVRpbGUocmVsYXRpdmVQb3MsIGFkZFRvTGFzdENvbW1hbmQpIHtcbiAgICBsZXQgW3gsIHldID0gdGhpcy5jYWxjdWxhdGVBYnNvbHV0ZVBvc2l0aW9uKHJlbGF0aXZlUG9zKVxuICAgIGxldCBbY29sdW1uLCByb3ddID0gdGhpcy54eVRvQ29sUm93KHt4LCB5fSlcblxuICAgIGxldCB0ZXh0dXJlID0gdGhpcy5tYXBbY29sdW1uXVtyb3ddXG4gICAgaWYodGV4dHVyZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5tYXBbY29sdW1uXVtyb3ddID0gdW5kZWZpbmVkXG4gICAgaWYoYWRkVG9MYXN0Q29tbWFuZCAmJiB0aGlzLmNvbW1hbmRIaXN0b3J5LmN1cnJlbnQuY29tbWFuZCA9PSAnZXJhc2VUaWxlJykge1xuICAgICAgdGhpcy5jb21tYW5kSGlzdG9yeS5tZXJnZShbdGV4dHVyZV0pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jb21tYW5kSGlzdG9yeS5wdXNoKFwiZXJhc2VUaWxlXCIsIFt0ZXh0dXJlXSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJlbW92ZVRpbGVGcm9tSGlzdG9yeSh0ZXh0dXJlKSB7XG4gICAgbGV0IGNvbHVtbiA9IE1hdGgudHJ1bmModGV4dHVyZS5wb3MueCAvIHRleHR1cmUud2lkdGgpXG4gICAgbGV0IHJvdyA9IE1hdGgudHJ1bmModGV4dHVyZS5wb3MueSAvIHRleHR1cmUuaGVpZ2h0KVxuICAgIHRoaXMubWFwW2NvbHVtbl1bcm93XSA9IHVuZGVmaW5lZFxuICB9XG5cbiAgZHJhdygpIHtcbiAgICBpZih0aGlzLnZpZXdQb3J0KSB7XG4gICAgICB2YXIgc3RhcnRDb2x1bW4gPSBNYXRoLnRydW5jKHRoaXMudmlld1BvcnQucG9zLnggLyB0aGlzLnRleHR1cmVTaXplKVxuICAgICAgdmFyIGVuZENvbHVtbiA9IHN0YXJ0Q29sdW1uICsgTWF0aC50cnVuYyh0aGlzLnZpZXdQb3J0LndpZHRoIC8gdGhpcy50ZXh0dXJlU2l6ZSlcbiAgICAgIHZhciBzdGFydFJvdyA9IE1hdGgudHJ1bmModGhpcy52aWV3UG9ydC5wb3MueSAvIHRoaXMudGV4dHVyZVNpemUpXG4gICAgICB2YXIgZW5kUm93ID0gc3RhcnRSb3cgKyBNYXRoLnRydW5jKHRoaXMudmlld1BvcnQuaGVpZ2h0IC8gdGhpcy50ZXh0dXJlU2l6ZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgc3RhcnRDb2x1bW4gPSAwXG4gICAgICB2YXIgZW5kQ29sdW1uID0gc3RhcnRDb2x1bW4gKyBNYXRoLnRydW5jKEdhbWUuY2FudmFzLndpZHRoIC8gdGhpcy50ZXh0dXJlU2l6ZSlcbiAgICAgIHZhciBzdGFydFJvdyA9IDBcbiAgICAgIHZhciBlbmRSb3cgPSBzdGFydFJvdyArIE1hdGgudHJ1bmMoR2FtZS5jYW52YXMuaGVpZ2h0IC8gdGhpcy50ZXh0dXJlU2l6ZSlcbiAgICB9XG5cbiAgICBmb3IobGV0IGNvbHVtbiA9IHN0YXJ0Q29sdW1uOyBjb2x1bW4gPD0gZW5kQ29sdW1uOyBjb2x1bW4rKykge1xuICAgICAgZm9yKGxldCByb3cgPSBzdGFydFJvdzsgcm93IDw9IGVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgaWYoIXRoaXMubWFwW2NvbHVtbl0gfHwgIXRoaXMubWFwW2NvbHVtbl1bcm93XSlcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGxldCB0ZXh0dXJlID0gdGhpcy5tYXBbY29sdW1uXVtyb3ddXG5cbiAgICAgICAgaWYodGV4dHVyZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgbGV0IGFic29sdXRlUG9zaXRpb24gPSB7IHg6IChjb2x1bW4gKiB0aGlzLnRleHR1cmVTaXplKSwgeTogKHJvdyAqIHRoaXMudGV4dHVyZVNpemUpIH1cbiAgICAgICAgbGV0IHBvcyA9IENvbGxpc2lvbi52ZWN0b3JEaWZmZXJlbmNlKGFic29sdXRlUG9zaXRpb24sIHRoaXMudmlld1BvcnQucG9zKVxuICAgICAgICBsZXQgcmVsYXRpdmVQb3NpdGlvbiA9IENvbGxpc2lvbi52ZWN0b3JTdW0ocG9zLCB7IHg6IEdhbWUuY2FudmFzLndpZHRoIC0gdGhpcy52aWV3UG9ydC53aWR0aCwgeTogMCB9KVxuXG4gICAgICAgIEdhbWUuY3R4LmRyYXdJbWFnZSh0ZXh0dXJlLmltZywgcmVsYXRpdmVQb3NpdGlvbi54LCByZWxhdGl2ZVBvc2l0aW9uLnksXG4gICAgICAgICAgICB0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUEzREE7QUFDQTtBQTZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0VBO0FBQ0E7QUErRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXBKQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/map.js\n");

/***/ }),

/***/ "./src/map_editor.js":
/*!***************************!*\
  !*** ./src/map_editor.js ***!
  \***************************/
/*! exports provided: init, update */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"update\", function() { return update; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entity.js\");\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map */ \"./src/map.js\");\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./texture */ \"./src/texture.js\");\n/* harmony import */ var _view_port__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view_port */ \"./src/view_port.js\");\n/* harmony import */ var _views_map_editor_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./views/map_editor_ui */ \"./src/views/map_editor_ui.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collision */ \"./src/collision.js\");\n\n\n\n\n\n\n\nconst textureSize = 32;\n\nlet viewPort = undefined;\n\nclass Grid extends _entity__WEBPACK_IMPORTED_MODULE_0__[\"Entity\"] {\n  constructor(_map, _viewPort, _textureMenu, _sideMenu, size = 32) {\n    let width = Game.canvas.width - _sideMenu.width - Game.canvas.width % size;\n    let height = _textureMenu.pos.y - _textureMenu.pos.y % size;\n    super(_sideMenu.width, 0, width, height);\n\n    this.name = \"Grid\";\n    this.drawWidth = this.canvas.width - _sideMenu.width;\n    this.drawHeight = _textureMenu.pos.y;\n    this.drawX = _sideMenu.width;\n    this.drawY = 0;\n    this.size = size;\n    this.color = \"#cccccc\";\n    this.map = _map;\n    this.viewPort = _viewPort;\n    this.textureMenu = _textureMenu;\n    this.sideMenu = _sideMenu;\n    this.texturePreview = null;\n    this.lastTexturePlacedAt = null;\n    this.texturePreviewAlpha = 0.3;\n    this.undoing = false;\n    this.redoing = false;\n    this.addToLastCommand = false;\n  }\n\n  resetDimensions() {\n    let xToRight = this.canvas.width - this.pos.x;\n    this.width = xToRight - xToRight % this.size;\n    let yToBottom = this.textureMenu.pos.y - this.pos.y;\n    this.height = yToBottom - yToBottom % this.size;\n  }\n\n  draw() {\n    this.ctx.beginPath();\n    for (let x = this.pos.x + 0.5; x <= this.drawWidth + this.drawX; x += this.size) {\n      this.ctx.moveTo(x, this.drawY);\n      this.ctx.lineTo(x, this.drawHeight);\n    }\n\n    for (let y = this.pos.y + 0.5; y <= this.drawHeight; y += this.size) {\n      this.ctx.moveTo(this.drawX, y);\n      this.ctx.lineTo(this.drawWidth + this.drawX, y);\n    }\n\n    this.ctx.strokeStyle = this.color;\n    this.ctx.lineWidth = 1;\n    this.ctx.stroke();\n\n    if (this.texturePreview && !this.viewPort.positionAtDragStart) {\n      this.ctx.save();\n      this.ctx.globalAlpha = this.texturePreviewAlpha;\n\n      let texture = this.texturePreview;\n      this.ctx.drawImage(texture.img, texture.pos.x, texture.pos.y, texture.width, texture.height);\n\n      this.ctx.restore();\n    }\n  }\n\n  update() {\n    let xOffset = this.viewPort.pos.x % this.size;\n    let yOffset = this.viewPort.pos.y % this.size;\n\n    let x = this.sideMenu.width + (xOffset ? this.size - xOffset : 0);\n    let y = yOffset ? this.size - yOffset : 0;\n    this.move(x, y);\n    this.resetDimensions();\n\n    if (!this.undoing && (Game.events.controlKeysDown[90] || Game.events.keysDown[85])) {\n      this.undoing = true;\n      this.map.commandHistory.undo();\n    } else if (this.undoing && !(Game.events.controlKeysDown[90] || Game.events.keysDown[85])) {\n      this.undoing = false;\n    }\n\n    if (!this.redoing && (Game.events.controlKeysDown[82] || Game.events.controlKeysDown[89])) {\n      this.redoing = true;\n      this.map.commandHistory.redo();\n    } else if (this.redoing && !(Game.events.controlKeysDown[82] || Game.events.controlKeysDown[89])) {\n      this.redoing = false;\n    }\n\n    if (this.textureMenu.selectedTexture) {\n      if (_collision__WEBPACK_IMPORTED_MODULE_5__[\"intersects\"](this, Game.events.mouse)) {\n        let columnIntersected = Math.trunc((Game.events.mouse.x - this.pos.x) / this.size);\n        let rowIntersected = Math.trunc((Game.events.mouse.y - this.pos.y) / this.size);\n\n        let x = this.pos.x + columnIntersected * this.size;\n        let y = this.pos.y + rowIntersected * this.size;\n\n        if (this.textureMenu.selectedTexture != 'eraser') {\n          if (this.texturePreview) {\n            this.texturePreview.pos = { x, y };\n          } else {\n            this.texturePreview = new _texture__WEBPACK_IMPORTED_MODULE_2__[\"default\"](x, y, this.textureMenu.selectedTexture.key, this.textureMenu.selectedTexture.img);\n          }\n        }\n\n        if (Game.events.mouse.rightDown) {\n          if (!this.lastTexturePlacedAt || !_collision__WEBPACK_IMPORTED_MODULE_5__[\"pointsAreEqual\"]({ x, y }, this.lastTexturePlacedAt)) {\n\n            this.lastTexturePlacedAt = { x, y };\n            if (this.textureMenu.selectedTexture == 'eraser') {\n              if (this.map.removeTile({ x, y }, this.addToLastCommand)) {\n                this.addToLastCommand = true;\n              }\n            } else {\n              this.map.addTile(this.texturePreview, this.addToLastCommand);\n              this.addToLastCommand = true;\n            }\n          }\n        } else if (this.lastTexturePlacedAt && !Game.events.mouse.rightDown) {\n          this.lastTexturePlacedAt = null;\n          this.addToLastCommand = false;\n        }\n      } else {\n        this.texturePreview = null;\n      }\n    }\n  }\n}\n\nlet update = () => {\n  viewPort.update();\n};\n\nlet init = () => {\n  let ctx = Game.ctx;\n  let canvas = Game.canvas;\n  let map = new _map__WEBPACK_IMPORTED_MODULE_1__[\"default\"](canvas.width * 2, canvas.height * 2, textureSize);\n\n  let viewPortWidth = canvas.width - canvas.width / 5;\n  let viewPortHeight = canvas.height - canvas.height / 5;\n\n  viewPort = new _view_port__WEBPACK_IMPORTED_MODULE_3__[\"ViewPort\"](viewPortWidth, viewPortHeight, map);\n  let textureMenu = new _views_map_editor_ui__WEBPACK_IMPORTED_MODULE_4__[\"MapEditorUI\"].TextureMenu(canvas, {\n    height: Game.canvas.height - viewPort.height,\n    verticalAlignment: \"bottom\",\n    backgroundColor: '#2a1d16',\n    textures: Game.AssetManager.imgs[\"textures\"]\n\n  });\n\n  let sideMenu = new _views_map_editor_ui__WEBPACK_IMPORTED_MODULE_4__[\"MapEditorUI\"].SideMenu(map, viewPort);\n\n  let grid = new Grid(map, viewPort, textureMenu, sideMenu);\n\n  Game.uiElements.push([textureMenu, sideMenu]);\n  Game.environmentElements.push([map, grid]);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFwX2VkaXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbWFwX2VkaXRvci5qcz85ZjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4vZW50aXR5J1xuaW1wb3J0IE1hcCBmcm9tICcuL21hcCdcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSdcbmltcG9ydCB7IFZpZXdQb3J0IH0gZnJvbSAnLi92aWV3X3BvcnQnXG5pbXBvcnQgeyBNYXBFZGl0b3JVSSB9IGZyb20gJy4vdmlld3MvbWFwX2VkaXRvcl91aSdcbmltcG9ydCAqIGFzIENvbGxpc2lvbiBmcm9tICcuL2NvbGxpc2lvbidcblxuY29uc3QgdGV4dHVyZVNpemUgPSAzMlxuXG5sZXQgdmlld1BvcnQgPSB1bmRlZmluZWRcblxuY2xhc3MgR3JpZCBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKF9tYXAsIF92aWV3UG9ydCwgX3RleHR1cmVNZW51LCBfc2lkZU1lbnUsIHNpemUgPSAzMikge1xuICAgIGxldCB3aWR0aCA9IEdhbWUuY2FudmFzLndpZHRoIC0gX3NpZGVNZW51LndpZHRoIC0gKEdhbWUuY2FudmFzLndpZHRoICUgc2l6ZSlcbiAgICBsZXQgaGVpZ2h0ID0gX3RleHR1cmVNZW51LnBvcy55IC0gKF90ZXh0dXJlTWVudS5wb3MueSAlIHNpemUpXG4gICAgc3VwZXIoX3NpZGVNZW51LndpZHRoLCAwLCB3aWR0aCwgaGVpZ2h0KVxuXG4gICAgdGhpcy5uYW1lID0gXCJHcmlkXCJcbiAgICB0aGlzLmRyYXdXaWR0aCA9IHRoaXMuY2FudmFzLndpZHRoIC0gX3NpZGVNZW51LndpZHRoXG4gICAgdGhpcy5kcmF3SGVpZ2h0ID0gX3RleHR1cmVNZW51LnBvcy55XG4gICAgdGhpcy5kcmF3WCA9IF9zaWRlTWVudS53aWR0aFxuICAgIHRoaXMuZHJhd1kgPSAwXG4gICAgdGhpcy5zaXplID0gc2l6ZVxuICAgIHRoaXMuY29sb3IgPSBcIiNjY2NjY2NcIlxuICAgIHRoaXMubWFwID0gX21hcFxuICAgIHRoaXMudmlld1BvcnQgPSBfdmlld1BvcnRcbiAgICB0aGlzLnRleHR1cmVNZW51ID0gX3RleHR1cmVNZW51XG4gICAgdGhpcy5zaWRlTWVudSA9IF9zaWRlTWVudVxuICAgIHRoaXMudGV4dHVyZVByZXZpZXcgPSBudWxsXG4gICAgdGhpcy5sYXN0VGV4dHVyZVBsYWNlZEF0ID0gbnVsbFxuICAgIHRoaXMudGV4dHVyZVByZXZpZXdBbHBoYSA9IDAuM1xuICAgIHRoaXMudW5kb2luZyA9IGZhbHNlXG4gICAgdGhpcy5yZWRvaW5nID0gZmFsc2VcbiAgICB0aGlzLmFkZFRvTGFzdENvbW1hbmQgPSBmYWxzZVxuICB9XG5cbiAgcmVzZXREaW1lbnNpb25zKCkge1xuICAgIGxldCB4VG9SaWdodCA9IHRoaXMuY2FudmFzLndpZHRoIC0gdGhpcy5wb3MueFxuICAgIHRoaXMud2lkdGggPSB4VG9SaWdodCAtICh4VG9SaWdodCAlIHRoaXMuc2l6ZSlcbiAgICBsZXQgeVRvQm90dG9tID0gdGhpcy50ZXh0dXJlTWVudS5wb3MueSAtIHRoaXMucG9zLnlcbiAgICB0aGlzLmhlaWdodCA9IHlUb0JvdHRvbSAtICh5VG9Cb3R0b20gJSB0aGlzLnNpemUpXG4gIH1cblxuICBkcmF3KCkge1xuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpXG4gICAgZm9yKGxldCB4ID0gdGhpcy5wb3MueCArIDAuNTsgeCA8PSAodGhpcy5kcmF3V2lkdGggKyB0aGlzLmRyYXdYKTsgeCArPSB0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyh4LCB0aGlzLmRyYXdZKVxuICAgICAgdGhpcy5jdHgubGluZVRvKHgsIHRoaXMuZHJhd0hlaWdodClcbiAgICB9XG5cbiAgICBmb3IobGV0IHkgPSB0aGlzLnBvcy55ICsgMC41OyB5IDw9IHRoaXMuZHJhd0hlaWdodDsgeSArPSB0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLmRyYXdYLCB5KVxuICAgICAgdGhpcy5jdHgubGluZVRvKHRoaXMuZHJhd1dpZHRoICsgdGhpcy5kcmF3WCwgeSlcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JcbiAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxXG4gICAgdGhpcy5jdHguc3Ryb2tlKClcblxuICAgIGlmKHRoaXMudGV4dHVyZVByZXZpZXcgJiYgIXRoaXMudmlld1BvcnQucG9zaXRpb25BdERyYWdTdGFydCkge1xuICAgICAgdGhpcy5jdHguc2F2ZSgpXG4gICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHRoaXMudGV4dHVyZVByZXZpZXdBbHBoYVxuXG4gICAgICBsZXQgdGV4dHVyZSA9IHRoaXMudGV4dHVyZVByZXZpZXdcbiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0ZXh0dXJlLmltZywgdGV4dHVyZS5wb3MueCwgdGV4dHVyZS5wb3MueSwgdGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpXG5cbiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBsZXQgeE9mZnNldCA9IHRoaXMudmlld1BvcnQucG9zLnggJSB0aGlzLnNpemVcbiAgICBsZXQgeU9mZnNldCA9IHRoaXMudmlld1BvcnQucG9zLnkgJSB0aGlzLnNpemVcblxuICAgIGxldCB4ID0gdGhpcy5zaWRlTWVudS53aWR0aCArICh4T2Zmc2V0ID8gdGhpcy5zaXplIC0geE9mZnNldCA6IDApXG4gICAgbGV0IHkgPSB5T2Zmc2V0ID8gdGhpcy5zaXplIC0geU9mZnNldCA6IDBcbiAgICB0aGlzLm1vdmUoeCwgeSlcbiAgICB0aGlzLnJlc2V0RGltZW5zaW9ucygpXG5cbiAgICBpZighdGhpcy51bmRvaW5nICYmIChHYW1lLmV2ZW50cy5jb250cm9sS2V5c0Rvd25bOTBdIHx8IEdhbWUuZXZlbnRzLmtleXNEb3duWzg1XSkpIHtcbiAgICAgIHRoaXMudW5kb2luZyA9IHRydWVcbiAgICAgIHRoaXMubWFwLmNvbW1hbmRIaXN0b3J5LnVuZG8oKVxuICAgIH1cbiAgICBlbHNlIGlmKHRoaXMudW5kb2luZyAmJiAhKEdhbWUuZXZlbnRzLmNvbnRyb2xLZXlzRG93bls5MF0gfHwgR2FtZS5ldmVudHMua2V5c0Rvd25bODVdKSkge1xuICAgICAgdGhpcy51bmRvaW5nID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZighdGhpcy5yZWRvaW5nICYmIChHYW1lLmV2ZW50cy5jb250cm9sS2V5c0Rvd25bODJdIHx8IEdhbWUuZXZlbnRzLmNvbnRyb2xLZXlzRG93bls4OV0pKSB7XG4gICAgICB0aGlzLnJlZG9pbmcgPSB0cnVlXG4gICAgICB0aGlzLm1hcC5jb21tYW5kSGlzdG9yeS5yZWRvKClcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5yZWRvaW5nICYmICEoR2FtZS5ldmVudHMuY29udHJvbEtleXNEb3duWzgyXSB8fCBHYW1lLmV2ZW50cy5jb250cm9sS2V5c0Rvd25bODldKSkge1xuICAgICAgdGhpcy5yZWRvaW5nID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZih0aGlzLnRleHR1cmVNZW51LnNlbGVjdGVkVGV4dHVyZSkge1xuICAgICAgaWYoQ29sbGlzaW9uLmludGVyc2VjdHModGhpcywgR2FtZS5ldmVudHMubW91c2UpKSB7XG4gICAgICAgIGxldCBjb2x1bW5JbnRlcnNlY3RlZCA9IE1hdGgudHJ1bmMoKEdhbWUuZXZlbnRzLm1vdXNlLnggLSB0aGlzLnBvcy54KSAvIHRoaXMuc2l6ZSlcbiAgICAgICAgbGV0IHJvd0ludGVyc2VjdGVkID0gTWF0aC50cnVuYygoR2FtZS5ldmVudHMubW91c2UueSAtIHRoaXMucG9zLnkpIC8gdGhpcy5zaXplKVxuXG4gICAgICAgIGxldCB4ID0gdGhpcy5wb3MueCArIChjb2x1bW5JbnRlcnNlY3RlZCAqIHRoaXMuc2l6ZSlcbiAgICAgICAgbGV0IHkgPSB0aGlzLnBvcy55ICsgKHJvd0ludGVyc2VjdGVkICogdGhpcy5zaXplKVxuXG4gICAgICAgIGlmKHRoaXMudGV4dHVyZU1lbnUuc2VsZWN0ZWRUZXh0dXJlICE9ICdlcmFzZXInKSB7XG4gICAgICAgICAgaWYodGhpcy50ZXh0dXJlUHJldmlldykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUHJldmlldy5wb3MgPSB7eCwgeX1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVQcmV2aWV3ID0gbmV3IFRleHR1cmUoeCwgeSwgdGhpcy50ZXh0dXJlTWVudS5zZWxlY3RlZFRleHR1cmUua2V5LCB0aGlzLnRleHR1cmVNZW51LnNlbGVjdGVkVGV4dHVyZS5pbWcpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoR2FtZS5ldmVudHMubW91c2UucmlnaHREb3duKSB7XG4gICAgICAgICAgaWYoIXRoaXMubGFzdFRleHR1cmVQbGFjZWRBdCB8fFxuICAgICAgICAgICAgICAhQ29sbGlzaW9uLnBvaW50c0FyZUVxdWFsKHt4LCB5fSwgdGhpcy5sYXN0VGV4dHVyZVBsYWNlZEF0KSkge1xuXG4gICAgICAgICAgICB0aGlzLmxhc3RUZXh0dXJlUGxhY2VkQXQgPSB7eCwgeX1cbiAgICAgICAgICAgIGlmKHRoaXMudGV4dHVyZU1lbnUuc2VsZWN0ZWRUZXh0dXJlID09ICdlcmFzZXInKSB7XG4gICAgICAgICAgICAgIGlmKHRoaXMubWFwLnJlbW92ZVRpbGUoe3gsIHl9LCB0aGlzLmFkZFRvTGFzdENvbW1hbmQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUb0xhc3RDb21tYW5kID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5tYXAuYWRkVGlsZSh0aGlzLnRleHR1cmVQcmV2aWV3LCB0aGlzLmFkZFRvTGFzdENvbW1hbmQpXG4gICAgICAgICAgICAgIHRoaXMuYWRkVG9MYXN0Q29tbWFuZCA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMubGFzdFRleHR1cmVQbGFjZWRBdCAmJiAhR2FtZS5ldmVudHMubW91c2UucmlnaHREb3duKSB7XG4gICAgICAgICAgdGhpcy5sYXN0VGV4dHVyZVBsYWNlZEF0ID0gbnVsbFxuICAgICAgICAgIHRoaXMuYWRkVG9MYXN0Q29tbWFuZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnRleHR1cmVQcmV2aWV3ID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgdXBkYXRlID0gKCkgPT4ge1xuICB2aWV3UG9ydC51cGRhdGUoKVxufVxuXG5sZXQgaW5pdCA9ICgpID0+IHtcbiAgbGV0IGN0eCA9IEdhbWUuY3R4XG4gIGxldCBjYW52YXMgPSBHYW1lLmNhbnZhc1xuICBsZXQgbWFwID0gbmV3IE1hcChjYW52YXMud2lkdGggKiAyLCBjYW52YXMuaGVpZ2h0ICogMiwgdGV4dHVyZVNpemUpXG5cbiAgbGV0IHZpZXdQb3J0V2lkdGggPSBjYW52YXMud2lkdGggLSAoY2FudmFzLndpZHRoIC8gNSlcbiAgbGV0IHZpZXdQb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAtIChjYW52YXMuaGVpZ2h0IC8gNSlcblxuICB2aWV3UG9ydCA9IG5ldyBWaWV3UG9ydCh2aWV3UG9ydFdpZHRoLCB2aWV3UG9ydEhlaWdodCwgbWFwKVxuICBsZXQgdGV4dHVyZU1lbnUgPSBuZXcgTWFwRWRpdG9yVUkuVGV4dHVyZU1lbnUoY2FudmFzLCB7XG4gICAgaGVpZ2h0OiBHYW1lLmNhbnZhcy5oZWlnaHQgLSB2aWV3UG9ydC5oZWlnaHQsXG4gICAgdmVydGljYWxBbGlnbm1lbnQ6IFwiYm90dG9tXCIsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzJhMWQxNicsXG4gICAgdGV4dHVyZXM6IEdhbWUuQXNzZXRNYW5hZ2VyLmltZ3NbXCJ0ZXh0dXJlc1wiXVxuXG4gIH0pXG5cbiAgbGV0IHNpZGVNZW51ID0gbmV3IE1hcEVkaXRvclVJLlNpZGVNZW51KG1hcCwgdmlld1BvcnQpXG5cbiAgbGV0IGdyaWQgPSBuZXcgR3JpZChtYXAsIHZpZXdQb3J0LCB0ZXh0dXJlTWVudSwgc2lkZU1lbnUpXG5cbiAgR2FtZS51aUVsZW1lbnRzLnB1c2goW3RleHR1cmVNZW51LCBzaWRlTWVudV0pXG4gIEdhbWUuZW52aXJvbm1lbnRFbGVtZW50cy5wdXNoKFttYXAsIGdyaWRdKVxufVxuXG5leHBvcnQgeyBpbml0LCB1cGRhdGUgfVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBL0hBO0FBQ0E7QUFpSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/map_editor.js\n");

/***/ }),

/***/ "./src/mini_map.js":
/*!*************************!*\
  !*** ./src/mini_map.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MiniMap; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entity.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ \"./src/collision.js\");\n\n\n\nclass MiniMap extends _entity__WEBPACK_IMPORTED_MODULE_0__[\"Entity\"] {\n  constructor({ map, parent, viewPort }) {\n    let width = parent.width;\n    let height = map.height / map.width * width;\n    super(0, 0, parent.width, height);\n    this.name = \"MiniMap\";\n    this.scale = width / map.width;\n    this.inverseScale = 1 / this.scale;\n    this.map = map;\n    this.parent = parent;\n    this.viewPort = viewPort;\n    this.miniViewPort = this.initMiniViewPort();\n    this.backgroundColor = \"#222222\";\n    this.canvas = Game.canvas;\n    this.ctx = Game.ctx;\n  }\n\n  initMiniViewPort() {\n    let viewPortDimensions = {\n      width: this.viewPort.width,\n      height: this.viewPort.height\n    };\n    let dimensions = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorProduct\"](this.scale, viewPortDimensions);\n    let position = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorProduct\"](this.scale, this.viewPort.pos);\n\n    return {\n      width: dimensions.width,\n      height: dimensions.height,\n      pos: position,\n      color: \"#ffffff\"\n    };\n  }\n\n  updateMiniViewPort() {\n    if (_collision__WEBPACK_IMPORTED_MODULE_1__[\"intersects\"](this, Game.events.mouse)) {\n      if (Game.events.mouse.down) {\n        let x = (Game.events.mouse.x - this.miniViewPort.width / 2) * this.inverseScale;\n        let y = (Game.events.mouse.y - this.miniViewPort.height / 2) * this.inverseScale;\n        this.viewPort.safeMove(x, y);\n      }\n    }\n    let position = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorProduct\"](this.scale, this.viewPort.pos);\n    this.miniViewPort.pos = position;\n  }\n\n  scaledTextureDetails(texture) {\n    return {\n      pos: _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorProduct\"](this.scale, texture.pos),\n      width: texture.width * this.scale,\n      height: texture.height * this.scale\n    };\n  }\n\n  draw() {\n    this.ctx.fillStyle = this.backgroundColor;\n    this.ctx.fillRect(this.pos.x, this.pos.y, this.width, this.height);\n\n    let startColumn = 0;\n    let startRow = 0;\n    let endColumn = Math.trunc(this.map.width % this.map.textureSize);\n    let endRow = Math.trunc(this.map.height % this.map.textureSize);\n\n    for (let column of this.map.map) {\n      for (let texture of column) {\n        if (texture === undefined) continue;\n        let textureDetails = this.scaledTextureDetails(texture);\n\n        this.ctx.drawImage(texture.img, textureDetails.pos.x, textureDetails.pos.y, textureDetails.width, textureDetails.height);\n      }\n    }\n\n    this.ctx.strokeStyle = this.miniViewPort.color;\n    this.ctx.lineWidth = 1;\n    this.ctx.strokeRect(this.miniViewPort.pos.x, this.miniViewPort.pos.y, this.miniViewPort.width, this.miniViewPort.height);\n  }\n\n  update() {\n    this.updateMiniViewPort();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWluaV9tYXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21pbmlfbWFwLmpzP2NlMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFbnRpdHl9IGZyb20gJy4vZW50aXR5J1xuaW1wb3J0ICogYXMgQ29sbGlzaW9uIGZyb20gJy4vY29sbGlzaW9uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pTWFwIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Ioe21hcCwgcGFyZW50LCB2aWV3UG9ydH0pIHtcbiAgICBsZXQgd2lkdGggPSBwYXJlbnQud2lkdGhcbiAgICBsZXQgaGVpZ2h0ID0gKG1hcC5oZWlnaHQgLyBtYXAud2lkdGgpICogd2lkdGhcbiAgICBzdXBlcigwLCAwLCBwYXJlbnQud2lkdGgsIGhlaWdodClcbiAgICB0aGlzLm5hbWUgPSBcIk1pbmlNYXBcIlxuICAgIHRoaXMuc2NhbGUgPSB3aWR0aCAvIG1hcC53aWR0aFxuICAgIHRoaXMuaW52ZXJzZVNjYWxlID0gMSAvIHRoaXMuc2NhbGVcbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIHRoaXMucGFyZW50ID0gcGFyZW50XG4gICAgdGhpcy52aWV3UG9ydCA9IHZpZXdQb3J0XG4gICAgdGhpcy5taW5pVmlld1BvcnQgPSB0aGlzLmluaXRNaW5pVmlld1BvcnQoKVxuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gXCIjMjIyMjIyXCJcbiAgICB0aGlzLmNhbnZhcyA9IEdhbWUuY2FudmFzXG4gICAgdGhpcy5jdHggPSBHYW1lLmN0eFxuICB9XG5cbiAgaW5pdE1pbmlWaWV3UG9ydCgpIHtcbiAgICBsZXQgdmlld1BvcnREaW1lbnNpb25zID0ge1xuICAgICAgd2lkdGg6IHRoaXMudmlld1BvcnQud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMudmlld1BvcnQuaGVpZ2h0XG4gICAgfVxuICAgIGxldCBkaW1lbnNpb25zID0gQ29sbGlzaW9uLnZlY3RvclByb2R1Y3QodGhpcy5zY2FsZSwgdmlld1BvcnREaW1lbnNpb25zKVxuICAgIGxldCBwb3NpdGlvbiA9IENvbGxpc2lvbi52ZWN0b3JQcm9kdWN0KHRoaXMuc2NhbGUsIHRoaXMudmlld1BvcnQucG9zKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBkaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBkaW1lbnNpb25zLmhlaWdodCxcbiAgICAgIHBvczogcG9zaXRpb24sXG4gICAgICBjb2xvcjogXCIjZmZmZmZmXCJcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNaW5pVmlld1BvcnQoKSB7XG4gICAgaWYoQ29sbGlzaW9uLmludGVyc2VjdHModGhpcywgR2FtZS5ldmVudHMubW91c2UpKSB7XG4gICAgICBpZihHYW1lLmV2ZW50cy5tb3VzZS5kb3duKSB7XG4gICAgICAgIGxldCB4ID0gKEdhbWUuZXZlbnRzLm1vdXNlLnggLSAodGhpcy5taW5pVmlld1BvcnQud2lkdGggLyAyKSkgKiB0aGlzLmludmVyc2VTY2FsZVxuICAgICAgICBsZXQgeSA9IChHYW1lLmV2ZW50cy5tb3VzZS55IC0gKHRoaXMubWluaVZpZXdQb3J0LmhlaWdodCAvIDIpKSAqIHRoaXMuaW52ZXJzZVNjYWxlXG4gICAgICAgIHRoaXMudmlld1BvcnQuc2FmZU1vdmUoeCwgeSlcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHBvc2l0aW9uID0gQ29sbGlzaW9uLnZlY3RvclByb2R1Y3QodGhpcy5zY2FsZSwgdGhpcy52aWV3UG9ydC5wb3MpXG4gICAgdGhpcy5taW5pVmlld1BvcnQucG9zID0gcG9zaXRpb25cbiAgfVxuXG4gIHNjYWxlZFRleHR1cmVEZXRhaWxzKHRleHR1cmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9zOiBDb2xsaXNpb24udmVjdG9yUHJvZHVjdCh0aGlzLnNjYWxlLCB0ZXh0dXJlLnBvcyksXG4gICAgICB3aWR0aDogdGV4dHVyZS53aWR0aCAqIHRoaXMuc2NhbGUsXG4gICAgICBoZWlnaHQ6IHRleHR1cmUuaGVpZ2h0ICogdGhpcy5zY2FsZVxuICAgIH1cbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3JcbiAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcblxuICAgIGxldCBzdGFydENvbHVtbiA9IDBcbiAgICBsZXQgc3RhcnRSb3cgPSAwXG4gICAgbGV0IGVuZENvbHVtbiA9IE1hdGgudHJ1bmModGhpcy5tYXAud2lkdGggJSB0aGlzLm1hcC50ZXh0dXJlU2l6ZSlcbiAgICBsZXQgZW5kUm93ID0gTWF0aC50cnVuYyh0aGlzLm1hcC5oZWlnaHQgJSB0aGlzLm1hcC50ZXh0dXJlU2l6ZSlcblxuICAgIGZvcihsZXQgY29sdW1uIG9mIHRoaXMubWFwLm1hcCkge1xuICAgICAgZm9yKGxldCB0ZXh0dXJlIG9mIGNvbHVtbikge1xuICAgICAgICBpZih0ZXh0dXJlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgbGV0IHRleHR1cmVEZXRhaWxzID0gdGhpcy5zY2FsZWRUZXh0dXJlRGV0YWlscyh0ZXh0dXJlKVxuXG4gICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0ZXh0dXJlLmltZywgdGV4dHVyZURldGFpbHMucG9zLngsIHRleHR1cmVEZXRhaWxzLnBvcy55LCB0ZXh0dXJlRGV0YWlscy53aWR0aCwgdGV4dHVyZURldGFpbHMuaGVpZ2h0KVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5taW5pVmlld1BvcnQuY29sb3JcbiAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxXG4gICAgdGhpcy5jdHguc3Ryb2tlUmVjdCh0aGlzLm1pbmlWaWV3UG9ydC5wb3MueCwgdGhpcy5taW5pVmlld1BvcnQucG9zLnksXG4gICAgICAgIHRoaXMubWluaVZpZXdQb3J0LndpZHRoLCB0aGlzLm1pbmlWaWV3UG9ydC5oZWlnaHQpXG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy51cGRhdGVNaW5pVmlld1BvcnQoKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoRkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mini_map.js\n");

/***/ }),

/***/ "./src/texture.js":
/*!************************!*\
  !*** ./src/texture.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Texture; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entity.js\");\n\n\nclass Texture extends _entity__WEBPACK_IMPORTED_MODULE_0__[\"Entity\"] {\n  constructor(x, y, key, img) {\n    super(x, y, img.width, img.height);\n    this.name = \"Texture\";\n    this.key = key;\n    this.img = img;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGV4dHVyZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdGV4dHVyZS5qcz9mNmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RW50aXR5fSBmcm9tICcuL2VudGl0eSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZSBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKHgsIHksIGtleSwgaW1nKSB7XG4gICAgc3VwZXIoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KVxuICAgIHRoaXMubmFtZSA9IFwiVGV4dHVyZVwiXG4gICAgdGhpcy5rZXkgPSBrZXlcbiAgICB0aGlzLmltZyA9IGltZ1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/texture.js\n");

/***/ }),

/***/ "./src/ui/button.js":
/*!**************************!*\
  !*** ./src/ui/button.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Button; });\n/* harmony import */ var _ui_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_element */ \"./src/ui/ui_element.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../collision */ \"./src/collision.js\");\n\n\n\nclass Button extends _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(canvas, properties) {\n    super(canvas, properties);\n    this.name = \"UI.Button\";\n    this.event_object = properties[\"event_object\"];\n    this.text = properties[\"text\"];\n    this.clickAction = properties[\"clickAction\"];\n    this.clicked = false;\n    this.backgroundColor = properties[\"backgroundColor\"] || \"#cc6600\";\n    this.hoveredBackgroundColor = properties[\"hoveredBackgroundColor\"] || \"#da8e42\";\n    this.clickedBackgroundColor = properties[\"clickedBackgroundColor\"] || \"#bb4a00\";\n    this.fontSize = properties[\"fontSize\"] || 24;\n    this.font = this.fontSize + \"px \" + (properties[\"font\"] || 'amatic-bold');\n    this.textMargin = properties[\"textMargin\"] || 3;\n    Button.hoveredButtons = {};\n    Button.clickedButtons = {};\n  }\n\n  draw() {\n    this.ctx.beginPath();\n    if (Button.hoveredButtons[this.id]) {\n      if (Button.clickedButtons[this.id]) this.ctx.fillStyle = this.clickedBackgroundColor;else this.ctx.fillStyle = this.hoveredBackgroundColor;\n      $(this.canvas).css({ 'cursor': 'pointer' });\n    } else {\n      this.ctx.fillStyle = this.backgroundColor;\n      if (Object.keys(Button.hoveredButtons).length <= 0) $(this.canvas).css({ 'cursor': 'default' });\n    }\n    this.ctx.fillRect(this.pos.x, this.pos.y, this.width, this.height);\n\n    this.ctx.fillStyle = this.color;\n    this.ctx.font = this.font;\n    this.ctx.textBaseline = \"top\";\n\n    let textSize = this.ctx.measureText(this.text);\n    let textX = this.pos.x + this.width / 2 - textSize.width / 2;\n    let textY = this.pos.y + this.height / 2 - this.fontSize / 2 - this.textMargin;\n\n    this.ctx.fillText(this.text, textX, textY);\n  }\n\n  update() {\n    if (_collision__WEBPACK_IMPORTED_MODULE_1__[\"intersects\"](this, this.event_object.mouse)) {\n      Button.hoveredButtons[this.id] = true;\n      if (this.event_object.mouse.clicked) {\n        Button.clickedButtons[this.id] = true;\n        this.event_object.mouse.clicked = false;\n      } else if (Button.clickedButtons[this.id] && !this.event_object.mouse.down) {\n        delete Button.clickedButtons[this.id];\n        this.clickAction();\n      }\n    } else if (Button.hoveredButtons[this.id]) {\n      delete Button.hoveredButtons[this.id];\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvYnV0dG9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy91aS9idXR0b24uanM/ZmJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlFbGVtZW50IGZyb20gJy4vdWlfZWxlbWVudCdcbmltcG9ydCAqIGFzIENvbGxpc2lvbiBmcm9tICcuLi9jb2xsaXNpb24nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFVJRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhcywgcHJvcGVydGllcykge1xuICAgIHN1cGVyKGNhbnZhcywgcHJvcGVydGllcylcbiAgICB0aGlzLm5hbWUgPSBcIlVJLkJ1dHRvblwiXG4gICAgdGhpcy5ldmVudF9vYmplY3QgPSBwcm9wZXJ0aWVzW1wiZXZlbnRfb2JqZWN0XCJdXG4gICAgdGhpcy50ZXh0ID0gcHJvcGVydGllc1tcInRleHRcIl1cbiAgICB0aGlzLmNsaWNrQWN0aW9uID0gcHJvcGVydGllc1tcImNsaWNrQWN0aW9uXCJdXG4gICAgdGhpcy5jbGlja2VkID0gZmFsc2VcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHByb3BlcnRpZXNbXCJiYWNrZ3JvdW5kQ29sb3JcIl0gfHwgXCIjY2M2NjAwXCJcbiAgICB0aGlzLmhvdmVyZWRCYWNrZ3JvdW5kQ29sb3IgPSBwcm9wZXJ0aWVzW1wiaG92ZXJlZEJhY2tncm91bmRDb2xvclwiXSB8fCBcIiNkYThlNDJcIlxuICAgIHRoaXMuY2xpY2tlZEJhY2tncm91bmRDb2xvciA9IHByb3BlcnRpZXNbXCJjbGlja2VkQmFja2dyb3VuZENvbG9yXCJdIHx8IFwiI2JiNGEwMFwiXG4gICAgdGhpcy5mb250U2l6ZSA9IHByb3BlcnRpZXNbXCJmb250U2l6ZVwiXSB8fCAyNFxuICAgIHRoaXMuZm9udCA9IHRoaXMuZm9udFNpemUgKyBcInB4IFwiICsgKHByb3BlcnRpZXNbXCJmb250XCJdIHx8ICdhbWF0aWMtYm9sZCcpXG4gICAgdGhpcy50ZXh0TWFyZ2luID0gcHJvcGVydGllc1tcInRleHRNYXJnaW5cIl0gfHwgM1xuICAgIEJ1dHRvbi5ob3ZlcmVkQnV0dG9ucyA9IHt9XG4gICAgQnV0dG9uLmNsaWNrZWRCdXR0b25zID0ge31cbiAgfVxuXG4gIGRyYXcgKCkge1xuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpXG4gICAgaWYoQnV0dG9uLmhvdmVyZWRCdXR0b25zW3RoaXMuaWRdKSB7XG4gICAgICBpZihCdXR0b24uY2xpY2tlZEJ1dHRvbnNbdGhpcy5pZF0pXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY2xpY2tlZEJhY2tncm91bmRDb2xvclxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmhvdmVyZWRCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICQodGhpcy5jYW52YXMpLmNzcyh7J2N1cnNvcicgOiAncG9pbnRlcid9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yXG4gICAgICBpZihPYmplY3Qua2V5cyhCdXR0b24uaG92ZXJlZEJ1dHRvbnMpLmxlbmd0aCA8PSAwKVxuICAgICAgICAkKHRoaXMuY2FudmFzKS5jc3MoeydjdXJzb3InIDogJ2RlZmF1bHQnfSlcbiAgICB9XG4gICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG5cbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yXG4gICAgdGhpcy5jdHguZm9udCA9IHRoaXMuZm9udFxuICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCJcblxuICAgIGxldCB0ZXh0U2l6ZSA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dClcbiAgICBsZXQgdGV4dFggPSB0aGlzLnBvcy54ICsgKHRoaXMud2lkdGggLyAyKSAtICh0ZXh0U2l6ZS53aWR0aCAvIDIpXG4gICAgbGV0IHRleHRZID0gdGhpcy5wb3MueSArICh0aGlzLmhlaWdodCAvIDIpIC0gKHRoaXMuZm9udFNpemUgLyAyKSAtIHRoaXMudGV4dE1hcmdpblxuXG4gICAgdGhpcy5jdHguZmlsbFRleHQodGhpcy50ZXh0LCB0ZXh0WCwgdGV4dFkpXG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKENvbGxpc2lvbi5pbnRlcnNlY3RzKHRoaXMsIHRoaXMuZXZlbnRfb2JqZWN0Lm1vdXNlKSkge1xuICAgICAgQnV0dG9uLmhvdmVyZWRCdXR0b25zW3RoaXMuaWRdID0gdHJ1ZVxuICAgICAgaWYgKHRoaXMuZXZlbnRfb2JqZWN0Lm1vdXNlLmNsaWNrZWQpIHtcbiAgICAgICAgQnV0dG9uLmNsaWNrZWRCdXR0b25zW3RoaXMuaWRdID0gdHJ1ZVxuICAgICAgICB0aGlzLmV2ZW50X29iamVjdC5tb3VzZS5jbGlja2VkID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKEJ1dHRvbi5jbGlja2VkQnV0dG9uc1t0aGlzLmlkXSAmJiAhdGhpcy5ldmVudF9vYmplY3QubW91c2UuZG93bikge1xuICAgICAgICBkZWxldGUgQnV0dG9uLmNsaWNrZWRCdXR0b25zW3RoaXMuaWRdXG4gICAgICAgIHRoaXMuY2xpY2tBY3Rpb24oKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChCdXR0b24uaG92ZXJlZEJ1dHRvbnNbdGhpcy5pZF0pIHtcbiAgICAgIGRlbGV0ZSBCdXR0b24uaG92ZXJlZEJ1dHRvbnNbdGhpcy5pZF1cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE1REEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/button.js\n");

/***/ }),

/***/ "./src/ui/grid.js":
/*!************************!*\
  !*** ./src/ui/grid.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Grid; });\n/* harmony import */ var _ui_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_element */ \"./src/ui/ui_element.js\");\n\n\nclass Grid extends _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(canvas, properties, skipChildCreation = false) {\n    super(canvas, properties, skipChildCreation = false);\n    this.name = \"UI.Grid\";\n  }\n\n  buildColumns(properties) {\n    const height = _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pixelDimension(properties[\"height\"], (properties[\"parent\"] || this.canvas).height);\n\n    const width = _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pixelDimension(properties[\"width\"], (properties[\"parent\"] || this.canvas).width);\n\n    this.rowHeight = properties[\"rowHeight\"] || parseInt(height / properties[\"rows\"].length);\n    this.columnWidth = parseInt(width / properties[\"rows\"][0].length);\n    this.rowMargin = properties[\"rowMargin\"] || 0;\n    this.columnMargin = properties[\"columnMargin\"] || 0;\n\n    properties[\"children\"] = [];\n\n    for (let row of properties[\"rows\"]) {\n      let columnIndex = 0;\n      for (let column of row) {\n        if (columnIndex < row.length - 1) {\n          column['properties']['display'] = 'inline';\n        }\n        column['properties']['height'] = this.rowHeight;\n        column['properties']['width'] = this.columnWidth;\n        column['properties']['topMargin'] = this.rowMargin;\n        column['properties']['bottomMargin'] = this.rowMargin;\n        column['properties']['margin'] = this.columnMargin;\n        properties['children'].push(column);\n        columnIndex++;\n      }\n    }\n  }\n\n  createChildElements(properties) {\n    this.buildColumns(properties);\n    super.createChildElements(properties);\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvZ3JpZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdWkvZ3JpZC5qcz9kYWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUVsZW1lbnQgZnJvbSAnLi91aV9lbGVtZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkIGV4dGVuZHMgVUlFbGVtZW50IHtcbiAgY29uc3RydWN0b3IgKGNhbnZhcywgcHJvcGVydGllcywgc2tpcENoaWxkQ3JlYXRpb24gPSBmYWxzZSkge1xuICAgIHN1cGVyKGNhbnZhcywgcHJvcGVydGllcywgc2tpcENoaWxkQ3JlYXRpb24gPSBmYWxzZSlcbiAgICB0aGlzLm5hbWUgPSBcIlVJLkdyaWRcIlxuICB9XG5cbiAgYnVpbGRDb2x1bW5zKHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBoZWlnaHQgPSBVSUVsZW1lbnQucGl4ZWxEaW1lbnNpb24ocHJvcGVydGllc1tcImhlaWdodFwiXSxcbiAgICAgICAgKHByb3BlcnRpZXNbXCJwYXJlbnRcIl0gfHwgdGhpcy5jYW52YXMpLmhlaWdodClcblxuICAgIGNvbnN0IHdpZHRoID0gVUlFbGVtZW50LnBpeGVsRGltZW5zaW9uKHByb3BlcnRpZXNbXCJ3aWR0aFwiXSxcbiAgICAgICAgKHByb3BlcnRpZXNbXCJwYXJlbnRcIl0gfHwgdGhpcy5jYW52YXMpLndpZHRoKVxuXG4gICAgdGhpcy5yb3dIZWlnaHQgPSBwcm9wZXJ0aWVzW1wicm93SGVpZ2h0XCJdIHx8IHBhcnNlSW50KGhlaWdodCAvIHByb3BlcnRpZXNbXCJyb3dzXCJdLmxlbmd0aClcbiAgICB0aGlzLmNvbHVtbldpZHRoID0gcGFyc2VJbnQod2lkdGggLyBwcm9wZXJ0aWVzW1wicm93c1wiXVswXS5sZW5ndGgpXG4gICAgdGhpcy5yb3dNYXJnaW4gPSBwcm9wZXJ0aWVzW1wicm93TWFyZ2luXCJdIHx8IDBcbiAgICB0aGlzLmNvbHVtbk1hcmdpbiA9IHByb3BlcnRpZXNbXCJjb2x1bW5NYXJnaW5cIl0gfHwgMFxuXG4gICAgcHJvcGVydGllc1tcImNoaWxkcmVuXCJdID0gW11cblxuICAgIGZvcihsZXQgcm93IG9mIHByb3BlcnRpZXNbXCJyb3dzXCJdKSB7XG4gICAgICBsZXQgY29sdW1uSW5kZXggPSAwXG4gICAgICBmb3IobGV0IGNvbHVtbiBvZiByb3cpIHtcbiAgICAgICAgaWYoY29sdW1uSW5kZXggPCAocm93Lmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgY29sdW1uWydwcm9wZXJ0aWVzJ11bJ2Rpc3BsYXknXSA9ICdpbmxpbmUnXG4gICAgICAgIH1cbiAgICAgICAgY29sdW1uWydwcm9wZXJ0aWVzJ11bJ2hlaWdodCddID0gdGhpcy5yb3dIZWlnaHRcbiAgICAgICAgY29sdW1uWydwcm9wZXJ0aWVzJ11bJ3dpZHRoJ10gPSB0aGlzLmNvbHVtbldpZHRoXG4gICAgICAgIGNvbHVtblsncHJvcGVydGllcyddWyd0b3BNYXJnaW4nXSA9IHRoaXMucm93TWFyZ2luXG4gICAgICAgIGNvbHVtblsncHJvcGVydGllcyddWydib3R0b21NYXJnaW4nXSA9IHRoaXMucm93TWFyZ2luXG4gICAgICAgIGNvbHVtblsncHJvcGVydGllcyddWydtYXJnaW4nXSA9IHRoaXMuY29sdW1uTWFyZ2luXG4gICAgICAgIHByb3BlcnRpZXNbJ2NoaWxkcmVuJ10ucHVzaChjb2x1bW4pXG4gICAgICAgIGNvbHVtbkluZGV4KytcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjcmVhdGVDaGlsZEVsZW1lbnRzKHByb3BlcnRpZXMpIHtcbiAgICB0aGlzLmJ1aWxkQ29sdW1ucyhwcm9wZXJ0aWVzKVxuICAgIHN1cGVyLmNyZWF0ZUNoaWxkRWxlbWVudHMocHJvcGVydGllcylcbiAgfVxuXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ui/grid.js\n");

/***/ }),

/***/ "./src/ui/list.js":
/*!************************!*\
  !*** ./src/ui/list.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return List; });\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grid */ \"./src/ui/grid.js\");\n\n\nclass List extends _grid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(canvas, properties, skipChildCreation = false) {\n    super(canvas, properties, skipChildCreation = false);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvbGlzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdWkvbGlzdC5qcz8xYzVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHcmlkIGZyb20gJy4vZ3JpZCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdCBleHRlbmRzIEdyaWQge1xuICBjb25zdHJ1Y3RvcihjYW52YXMsIHByb3BlcnRpZXMsIHNraXBDaGlsZENyZWF0aW9uID0gZmFsc2UpIHtcbiAgICBzdXBlcihjYW52YXMsIHByb3BlcnRpZXMsIHNraXBDaGlsZENyZWF0aW9uID0gZmFsc2UpXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/list.js\n");

/***/ }),

/***/ "./src/ui/popup_menu.js":
/*!******************************!*\
  !*** ./src/ui/popup_menu.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PopupMenu; });\n/* harmony import */ var _ui_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_element */ \"./src/ui/ui_element.js\");\n\n\nclass PopupMenu extends _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(canvas, properties, skipChildCreation = false) {\n    let defaultProperties = {\n      backgroundColor: '#dbcdae',\n      color: '#000000',\n      width: canvas.width / 2,\n      height: canvas.height * 0.66,\n      alignment: \"center\",\n      verticalAlignment: \"middle\",\n      marginTop: properties[\"headerText\"] ? 50 : 0\n    };\n\n    super(canvas, Object.assign(defaultProperties, properties), skipChildCreation);\n    this.name = \"UI.PopupMenu\";\n    this.fontSize = properties[\"fontSize\"] || 24;\n    this.font = this.fontSize + \"px \" + (properties[\"font\"] || 'amatic-bold');\n    this.textMargin = properties[\"textMargin\"] || 3;\n    this.headerText = properties[\"headerText\"];\n    this.createChildElements(properties);\n  }\n\n  draw() {\n    if (this.visible) {\n      if (this.borderWidth) {\n        this.ctx.beginPath();\n        this.ctx.rect(this.pos.x, this.pos.y, this.width, this.height);\n        this.ctx.lineWidth = this.borderWidth;\n        this.ctx.strokeStyle = this.color;\n        this.ctx.stroke();\n      }\n\n      if (this.backgroundColor) {\n        this.ctx.fillStyle = this.backgroundColor;\n        this.ctx.fillRect(this.pos.x, this.pos.y, this.width, this.height);\n      }\n\n      this.ctx.fillStyle = this.color;\n      this.ctx.font = this.font;\n      this.ctx.textBaseline = \"top\";\n\n      let textSize = this.ctx.measureText(this.headerText);\n      let textX = this.pos.x + this.width / 2 - textSize.width / 2;\n      let textY = this.pos.y + this.textMargin;\n\n      this.ctx.fillText(this.text, textX, textY);\n\n      for (let child of this.children) {\n        child.draw();\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvcG9wdXBfbWVudS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdWkvcG9wdXBfbWVudS5qcz83NWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUVsZW1lbnQgZnJvbSAnLi91aV9lbGVtZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cE1lbnUgZXh0ZW5kcyBVSUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihjYW52YXMsIHByb3BlcnRpZXMsIHNraXBDaGlsZENyZWF0aW9uID0gZmFsc2UpIHtcbiAgICBsZXQgZGVmYXVsdFByb3BlcnRpZXMgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZGJjZGFlJyxcbiAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICB3aWR0aDogY2FudmFzLndpZHRoIC8gMixcbiAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCAqIDAuNjYsXG4gICAgICBhbGlnbm1lbnQ6IFwiY2VudGVyXCIsXG4gICAgICB2ZXJ0aWNhbEFsaWdubWVudDogXCJtaWRkbGVcIixcbiAgICAgIG1hcmdpblRvcDogcHJvcGVydGllc1tcImhlYWRlclRleHRcIl0gPyA1MCA6IDBcbiAgICB9XG5cbiAgICBzdXBlcihjYW52YXMsIE9iamVjdC5hc3NpZ24oZGVmYXVsdFByb3BlcnRpZXMsIHByb3BlcnRpZXMpLCBza2lwQ2hpbGRDcmVhdGlvbilcbiAgICB0aGlzLm5hbWUgPSBcIlVJLlBvcHVwTWVudVwiXG4gICAgdGhpcy5mb250U2l6ZSA9IHByb3BlcnRpZXNbXCJmb250U2l6ZVwiXSB8fCAyNFxuICAgIHRoaXMuZm9udCA9IHRoaXMuZm9udFNpemUgKyBcInB4IFwiICsgKHByb3BlcnRpZXNbXCJmb250XCJdIHx8ICdhbWF0aWMtYm9sZCcpXG4gICAgdGhpcy50ZXh0TWFyZ2luID0gcHJvcGVydGllc1tcInRleHRNYXJnaW5cIl0gfHwgM1xuICAgIHRoaXMuaGVhZGVyVGV4dCA9IHByb3BlcnRpZXNbXCJoZWFkZXJUZXh0XCJdXG4gICAgdGhpcy5jcmVhdGVDaGlsZEVsZW1lbnRzKHByb3BlcnRpZXMpXG4gIH1cblxuICBkcmF3KCkge1xuICAgIGlmKHRoaXMudmlzaWJsZSkge1xuICAgICAgaWYodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgICAgICB0aGlzLmN0eC5yZWN0KHRoaXMucG9zLngsIHRoaXMucG9zLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLmJvcmRlcldpZHRoXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKVxuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLnBvcy54LCB0aGlzLnBvcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvclxuICAgICAgdGhpcy5jdHguZm9udCA9IHRoaXMuZm9udFxuICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIlxuXG4gICAgICBsZXQgdGV4dFNpemUgPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0aGlzLmhlYWRlclRleHQpXG4gICAgICBsZXQgdGV4dFggPSB0aGlzLnBvcy54ICsgKHRoaXMud2lkdGggLyAyKSAtICh0ZXh0U2l6ZS53aWR0aCAvIDIpXG4gICAgICBsZXQgdGV4dFkgPSB0aGlzLnBvcy55ICsgdGhpcy50ZXh0TWFyZ2luXG5cbiAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGV4dFgsIHRleHRZKVxuXG4gICAgICBmb3IobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGQuZHJhdygpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/popup_menu.js\n");

/***/ }),

/***/ "./src/ui/progress_bar.js":
/*!********************************!*\
  !*** ./src/ui/progress_bar.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProgressBar; });\n/* harmony import */ var _ui_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_element */ \"./src/ui/ui_element.js\");\n\n\nclass ProgressBar extends _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(canvas, properties) {\n    super(canvas, properties);\n    this.name = \"UI.ProgressBar\";\n    this.total = properties[\"total\"];\n    this.progress = 0;\n  }\n\n  draw() {\n    this.ctx.beginPath();\n    this.ctx.rect(this.pos.x, this.pos.y, this.width, this.height);\n    this.ctx.lineWidth = this.borderWidth;\n    this.ctx.strokeStyle = this.color;\n    this.ctx.stroke();\n\n    this.ctx.beginPath();\n    this.ctx.fillStyle = this.color;\n    this.ctx.fillRect(this.pos.x, this.pos.y, this.calculateWidth(), this.height);\n  }\n\n  calculateWidth() {\n    return this.width * (this.progress / this.total);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvcHJvZ3Jlc3NfYmFyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy91aS9wcm9ncmVzc19iYXIuanM/NmYzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlFbGVtZW50IGZyb20gJy4vdWlfZWxlbWVudCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXIgZXh0ZW5kcyBVSUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvciAoY2FudmFzLCBwcm9wZXJ0aWVzKSB7XG4gICAgc3VwZXIoY2FudmFzLCBwcm9wZXJ0aWVzKVxuICAgIHRoaXMubmFtZSA9IFwiVUkuUHJvZ3Jlc3NCYXJcIlxuICAgIHRoaXMudG90YWwgPSBwcm9wZXJ0aWVzW1widG90YWxcIl1cbiAgICB0aGlzLnByb2dyZXNzID0gMFxuICB9XG5cbiAgZHJhdyAoKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKClcbiAgICB0aGlzLmN0eC5yZWN0KHRoaXMucG9zLngsIHRoaXMucG9zLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGhcbiAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JcbiAgICB0aGlzLmN0eC5zdHJva2UoKVxuXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKClcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yXG4gICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5jYWxjdWxhdGVXaWR0aCgpLCB0aGlzLmhlaWdodClcbiAgfVxuXG4gIGNhbGN1bGF0ZVdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoICogKHRoaXMucHJvZ3Jlc3MgLyB0aGlzLnRvdGFsKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/ui/progress_bar.js\n");

/***/ }),

/***/ "./src/ui/ui.js":
/*!**********************!*\
  !*** ./src/ui/ui.js ***!
  \**********************/
/*! exports provided: UI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UI\", function() { return UI; });\n/* harmony import */ var _ui_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_element */ \"./src/ui/ui_element.js\");\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid */ \"./src/ui/grid.js\");\n/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./list */ \"./src/ui/list.js\");\n/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./button */ \"./src/ui/button.js\");\n/* harmony import */ var _progress_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./progress_bar */ \"./src/ui/progress_bar.js\");\n/* harmony import */ var _popup_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./popup_menu */ \"./src/ui/popup_menu.js\");\n\n\n\n\n\n\n\nlet UI = { UIElement: _ui_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Button: _button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], ProgressBar: _progress_bar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], Grid: _grid__WEBPACK_IMPORTED_MODULE_1__[\"default\"], List: _list__WEBPACK_IMPORTED_MODULE_6__[\"default\"], PopupMenu: _popup_menu__WEBPACK_IMPORTED_MODULE_5__[\"default\"] };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvdWkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3VpL3VpLmpzP2E2NjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJRWxlbWVudCBmcm9tICcuL3VpX2VsZW1lbnQnXG5pbXBvcnQgR3JpZCBmcm9tICcuL2dyaWQnXG5pbXBvcnQgTGlzdCBmcm9tICcuL2xpc3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uJ1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vcHJvZ3Jlc3NfYmFyJ1xuaW1wb3J0IFBvcHVwTWVudSBmcm9tICcuL3BvcHVwX21lbnUnXG5cbmxldCBVSSA9IHsgVUlFbGVtZW50LCBCdXR0b24sIFByb2dyZXNzQmFyLCBHcmlkLCBMaXN0LCBQb3B1cE1lbnV9XG5cbmV4cG9ydCB7IFVJIH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/ui.js\n");

/***/ }),

/***/ "./src/ui/ui_element.js":
/*!******************************!*\
  !*** ./src/ui/ui_element.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UIElement; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../entity */ \"./src/entity.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../collision */ \"./src/collision.js\");\n\n\n\nclass UIElement extends _entity__WEBPACK_IMPORTED_MODULE_0__[\"Entity\"] {\n  // If you create a new object that inherits from UIElement, and it has\n  // children, you must add the child info/structure to the properties before\n  // calling super\n  constructor(canvas, properties, skipChildCreation = false) {\n    let entityProps = UIElement.calculateDimensionAndPosition(canvas, properties);\n    super(entityProps.x, entityProps.y, entityProps.width, entityProps.height);\n    this.name = \"UIElement\";\n    this.canvas = canvas;\n    this.parent = entityProps.parent;\n    this.color = properties[\"color\"] || \"#ffffff\";\n    this.backgroundColor = properties[\"backgroundColor\"];\n    this.borderWidth = properties[\"borderWidth\"] || 0;\n    this.visible = properties[\"visible\"] || true;\n\n    if (!skipChildCreation) this.createChildElements(properties);\n  }\n\n  createChildElements(properties) {\n    this.children = [];\n    let lastChild = null;\n\n    if (properties[\"children\"]) {\n      for (let childData of properties[\"children\"]) {\n        let childClassName = childData[\"className\"];\n        let childProperties = childData[\"properties\"];\n        debugger;\n        childProperties[\"parent\"] = this;\n        childProperties[\"previousSibling\"] = lastChild;\n        let child = childClassName.prototype instanceof UIElement ? new childClassName(this.canvas, childProperties) : new childClassName(childProperties);\n        this.children.push(child);\n        lastChild = child;\n      }\n    }\n  }\n\n  static pixelDimension(value, parentValue) {\n    if (typeof value == \"string\") {\n      let valuePercent = value.slice(0, -1);\n      value = parentValue * (parseInt(valuePercent) / 100);\n    } else if (value === undefined) {\n      value = parentValue;\n    }\n    return value;\n  }\n\n  static calculateDimensionAndPosition(canvas, properties) {\n    const parent = properties[\"parent\"] || canvas;\n    const margin = properties[\"margin\"] || 0;\n    const leftMargin = properties[\"leftMargin\"] || margin;\n    const rightMargin = properties[\"rightMargin\"] || margin;\n    const topMargin = properties[\"topMargin\"] || margin;\n    const bottomMargin = properties[\"bottomMargin\"] || margin;\n    const display = properties[\"display\"] || \"block\";\n    const previousSibling = properties[\"previousSibling\"];\n    const position = properties[\"position\"];\n\n    let x, y, height, width;\n\n    width = UIElement.pixelDimension(properties[\"width\"], parent.width);\n    height = UIElement.pixelDimension(properties[\"height\"], parent.height);\n\n    if (position) {\n      x = position.x;\n      y = position.y;\n    } else {\n      switch (properties[\"alignment\"]) {\n        case \"center\":\n          x = parent.pos.x + (parent.width / 2 - width / 2);\n          break;\n        case \"right\":\n          x = parent.pos.x + parent.width - width - (rightMargin || margin);\n          break;\n        default:\n          if (display == 'block' || !previousSibling) {\n            x = parent.pos.x + leftMargin;\n          } else {\n            x = previousSibling.pos.x + previousSibling.width + leftMargin;\n          }\n      }\n\n      switch (properties[\"verticalAlignment\"]) {\n        case \"middle\":\n          y = parent.pos.y + (parent.height / 2 - height / 2);\n          break;\n        case \"bottom\":\n          y = parent.pos.y + parent.height - height - (topMargin || margin);\n          break;\n        default:\n          if (display == 'block' && previousSibling) {\n            y = previousSibling.pos.y + previousSibling.height + topMargin;\n          } else {\n            y = parent.pos.y + topMargin;\n          }\n      }\n    }\n\n    return { x, y, width, height, parent };\n  }\n\n  show() {\n    this.visible = true;\n  }\n\n  hide() {\n    this.visible = false;\n  }\n\n  toggle() {\n    this.visible = !this.visible;\n  }\n\n  draw() {\n    if (this.visible) {\n      if (this.borderWidth) {\n        this.ctx.beginPath();\n        this.ctx.rect(this.pos.x, this.pos.y, this.width, this.height);\n        this.ctx.lineWidth = this.borderWidth;\n        this.ctx.strokeStyle = this.color;\n        this.ctx.stroke();\n      }\n\n      if (this.backgroundColor) {\n        this.ctx.fillStyle = this.backgroundColor;\n        this.ctx.fillRect(this.pos.x, this.pos.y, this.width, this.height);\n      }\n\n      for (let child of this.children) {\n        child.draw();\n      }\n    }\n  }\n\n  update() {\n    for (let child of this.children) {\n      child.update();\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvdWlfZWxlbWVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdWkvdWlfZWxlbWVudC5qcz8xZDVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uL2VudGl0eSdcbmltcG9ydCAqIGFzIENvbGxpc2lvbiBmcm9tICcuLi9jb2xsaXNpb24nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJRWxlbWVudCBleHRlbmRzIEVudGl0eSB7XG4gIC8vIElmIHlvdSBjcmVhdGUgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBVSUVsZW1lbnQsIGFuZCBpdCBoYXNcbiAgLy8gY2hpbGRyZW4sIHlvdSBtdXN0IGFkZCB0aGUgY2hpbGQgaW5mby9zdHJ1Y3R1cmUgdG8gdGhlIHByb3BlcnRpZXMgYmVmb3JlXG4gIC8vIGNhbGxpbmcgc3VwZXJcbiAgY29uc3RydWN0b3IoY2FudmFzLCBwcm9wZXJ0aWVzLCBza2lwQ2hpbGRDcmVhdGlvbiA9IGZhbHNlKSB7XG4gICAgbGV0IGVudGl0eVByb3BzID0gVUlFbGVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbkFuZFBvc2l0aW9uKGNhbnZhcywgcHJvcGVydGllcylcbiAgICBzdXBlcihlbnRpdHlQcm9wcy54LCBlbnRpdHlQcm9wcy55LCBlbnRpdHlQcm9wcy53aWR0aCwgZW50aXR5UHJvcHMuaGVpZ2h0KVxuICAgIHRoaXMubmFtZSA9IFwiVUlFbGVtZW50XCJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuICAgIHRoaXMucGFyZW50ID0gZW50aXR5UHJvcHMucGFyZW50XG4gICAgdGhpcy5jb2xvciA9IHByb3BlcnRpZXNbXCJjb2xvclwiXSB8fCBcIiNmZmZmZmZcIlxuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gcHJvcGVydGllc1tcImJhY2tncm91bmRDb2xvclwiXVxuICAgIHRoaXMuYm9yZGVyV2lkdGggPSBwcm9wZXJ0aWVzW1wiYm9yZGVyV2lkdGhcIl0gfHwgMFxuICAgIHRoaXMudmlzaWJsZSA9IHByb3BlcnRpZXNbXCJ2aXNpYmxlXCJdIHx8IHRydWVcblxuICAgIGlmKCFza2lwQ2hpbGRDcmVhdGlvbilcbiAgICAgIHRoaXMuY3JlYXRlQ2hpbGRFbGVtZW50cyhwcm9wZXJ0aWVzKVxuICB9XG5cbiAgY3JlYXRlQ2hpbGRFbGVtZW50cyhwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdXG4gICAgbGV0IGxhc3RDaGlsZCA9IG51bGxcblxuICAgIGlmKHByb3BlcnRpZXNbXCJjaGlsZHJlblwiXSkge1xuICAgICAgZm9yKGxldCBjaGlsZERhdGEgb2YgcHJvcGVydGllc1tcImNoaWxkcmVuXCJdKSB7XG4gICAgICAgIGxldCBjaGlsZENsYXNzTmFtZSA9IGNoaWxkRGF0YVtcImNsYXNzTmFtZVwiXVxuICAgICAgICBsZXQgY2hpbGRQcm9wZXJ0aWVzID0gY2hpbGREYXRhW1wicHJvcGVydGllc1wiXVxuICAgICAgICBkZWJ1Z2dlclxuICAgICAgICBjaGlsZFByb3BlcnRpZXNbXCJwYXJlbnRcIl0gPSB0aGlzXG4gICAgICAgIGNoaWxkUHJvcGVydGllc1tcInByZXZpb3VzU2libGluZ1wiXSA9IGxhc3RDaGlsZFxuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZENsYXNzTmFtZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBVSUVsZW1lbnQgP1xuICAgICAgICAgIG5ldyBjaGlsZENsYXNzTmFtZSh0aGlzLmNhbnZhcywgY2hpbGRQcm9wZXJ0aWVzKSA6XG4gICAgICAgICAgbmV3IGNoaWxkQ2xhc3NOYW1lKGNoaWxkUHJvcGVydGllcylcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKVxuICAgICAgICBsYXN0Q2hpbGQgPSBjaGlsZFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBwaXhlbERpbWVuc2lvbih2YWx1ZSwgcGFyZW50VmFsdWUpIHtcbiAgICBpZih0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgbGV0IHZhbHVlUGVyY2VudCA9IHZhbHVlLnNsaWNlKDAsIC0xKVxuICAgICAgdmFsdWUgPSBwYXJlbnRWYWx1ZSAqIChwYXJzZUludCh2YWx1ZVBlcmNlbnQpIC8gMTAwKVxuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWx1ZSA9IHBhcmVudFZhbHVlXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgc3RhdGljIGNhbGN1bGF0ZURpbWVuc2lvbkFuZFBvc2l0aW9uKGNhbnZhcywgcHJvcGVydGllcykge1xuICAgIGNvbnN0IHBhcmVudCA9IHByb3BlcnRpZXNbXCJwYXJlbnRcIl0gfHwgY2FudmFzXG4gICAgY29uc3QgbWFyZ2luID0gcHJvcGVydGllc1tcIm1hcmdpblwiXSB8fCAwXG4gICAgY29uc3QgbGVmdE1hcmdpbiA9IHByb3BlcnRpZXNbXCJsZWZ0TWFyZ2luXCJdIHx8IG1hcmdpblxuICAgIGNvbnN0IHJpZ2h0TWFyZ2luID0gcHJvcGVydGllc1tcInJpZ2h0TWFyZ2luXCJdIHx8IG1hcmdpblxuICAgIGNvbnN0IHRvcE1hcmdpbiA9IHByb3BlcnRpZXNbXCJ0b3BNYXJnaW5cIl0gfHwgbWFyZ2luXG4gICAgY29uc3QgYm90dG9tTWFyZ2luID0gcHJvcGVydGllc1tcImJvdHRvbU1hcmdpblwiXSB8fCBtYXJnaW5cbiAgICBjb25zdCBkaXNwbGF5ID0gcHJvcGVydGllc1tcImRpc3BsYXlcIl0gfHwgXCJibG9ja1wiXG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5nID0gcHJvcGVydGllc1tcInByZXZpb3VzU2libGluZ1wiXVxuICAgIGNvbnN0IHBvc2l0aW9uID0gcHJvcGVydGllc1tcInBvc2l0aW9uXCJdXG5cbiAgICBsZXQgeCwgeSwgaGVpZ2h0LCB3aWR0aFxuXG4gICAgd2lkdGggPSBVSUVsZW1lbnQucGl4ZWxEaW1lbnNpb24ocHJvcGVydGllc1tcIndpZHRoXCJdLCBwYXJlbnQud2lkdGgpXG4gICAgaGVpZ2h0ID0gVUlFbGVtZW50LnBpeGVsRGltZW5zaW9uKHByb3BlcnRpZXNbXCJoZWlnaHRcIl0sIHBhcmVudC5oZWlnaHQpXG5cbiAgICBpZihwb3NpdGlvbikge1xuICAgICAgeCA9IHBvc2l0aW9uLnhcbiAgICAgIHkgPSBwb3NpdGlvbi55XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3dpdGNoIChwcm9wZXJ0aWVzW1wiYWxpZ25tZW50XCJdKSB7XG4gICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgICB4ID0gcGFyZW50LnBvcy54ICsgKChwYXJlbnQud2lkdGggLyAyKSAtICh3aWR0aCAvIDIpKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgIHggPSAocGFyZW50LnBvcy54ICsgcGFyZW50LndpZHRoIC0gd2lkdGgpIC0gKHJpZ2h0TWFyZ2luIHx8IG1hcmdpbilcbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmKGRpc3BsYXkgPT0gJ2Jsb2NrJyB8fCAhcHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgICAgICB4ID0gcGFyZW50LnBvcy54ICsgbGVmdE1hcmdpblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHggPSBwcmV2aW91c1NpYmxpbmcucG9zLnggKyBwcmV2aW91c1NpYmxpbmcud2lkdGggKyBsZWZ0TWFyZ2luXG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHByb3BlcnRpZXNbXCJ2ZXJ0aWNhbEFsaWdubWVudFwiXSkge1xuICAgICAgICBjYXNlIFwibWlkZGxlXCI6XG4gICAgICAgICAgeSA9IHBhcmVudC5wb3MueSArICgocGFyZW50LmhlaWdodCAvIDIpIC0gKGhlaWdodCAvIDIpKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICB5ID0gKHBhcmVudC5wb3MueSArIHBhcmVudC5oZWlnaHQgLSBoZWlnaHQpIC0gKHRvcE1hcmdpbiB8fCBtYXJnaW4pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZihkaXNwbGF5ID09ICdibG9jaycgJiYgcHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgICAgICB5ID0gcHJldmlvdXNTaWJsaW5nLnBvcy55ICsgcHJldmlvdXNTaWJsaW5nLmhlaWdodCArIHRvcE1hcmdpblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHkgPSBwYXJlbnQucG9zLnkgKyB0b3BNYXJnaW5cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgeCwgeSwgd2lkdGgsIGhlaWdodCwgcGFyZW50IH1cbiAgfVxuXG4gIHNob3coKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGVcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgaWYodGhpcy52aXNpYmxlKSB7XG4gICAgICBpZih0aGlzLmJvcmRlcldpZHRoKSB7XG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIHRoaXMuY3R4LnJlY3QodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGhcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpXG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yXG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KHRoaXMucG9zLngsIHRoaXMucG9zLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgICAgfVxuXG4gICAgICBmb3IobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGQuZHJhdygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGZvcihsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgY2hpbGQudXBkYXRlKClcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWJBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWJBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoSkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/ui_element.js\n");

/***/ }),

/***/ "./src/view_port.js":
/*!**************************!*\
  !*** ./src/view_port.js ***!
  \**************************/
/*! exports provided: ViewPort */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewPort\", function() { return ViewPort; });\n/* harmony import */ var _entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity */ \"./src/entity.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collision */ \"./src/collision.js\");\n\n\n\nclass ViewPort extends _entity__WEBPACK_IMPORTED_MODULE_0__[\"Entity\"] {\n  constructor(width, height, map) {\n    super(0, 0, width, height);\n    this.name = \"ViewPort\";\n    this.relativePos = {\n      x: Game.canvas.width - width,\n      y: 0\n    };\n    this.speed = 2;\n    this.positionAtDragStart = null;\n    this.map = map;\n    this.map.viewPort = this;\n  }\n\n  maxX() {\n    return this.map.width - this.width;\n  }\n\n  maxY() {\n    return this.map.height - this.height;\n  }\n\n  moveToObject(pos) {\n    if (!_collision__WEBPACK_IMPORTED_MODULE_1__[\"intersects\"](this, pos)) {\n      let x = pos.x - this.width / 2;\n      let y = pos.y - this.height / 2;\n\n      this.safeMove(x, y);\n    }\n  }\n\n  update() {\n    if (Game.events.keysDown[37]) this.safeMove(this.pos.x - this.speed, this.pos.y);\n\n    if (Game.events.keysDown[38]) this.safeMove(this.pos.x, this.pos.y - this.speed);\n\n    if (Game.events.keysDown[39]) this.safeMove(this.pos.x + this.speed, this.pos.y);\n\n    if (Game.events.keysDown[40]) this.safeMove(this.pos.x, this.pos.y + this.speed);\n\n    if (Game.state == 'map_editor' && Game.events.mouse.dragging) {\n      let dragStartPositionOnMap = Game.events.mouse.dragStart;\n      if (_collision__WEBPACK_IMPORTED_MODULE_1__[\"intersects\"](this, dragStartPositionOnMap, 0, true)) {\n        if (this.positionAtDragStart === null) {\n          this.positionAtDragStart = Object.assign({}, this.pos);\n          $(Game.canvas).css({ 'cursor': 'move' });\n        }\n\n        let start = Game.events.mouse.dragStart;\n        let end = { x: Game.events.mouse.x, y: Game.events.mouse.y };\n        let moveVector = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorDifference\"](start, end);\n\n        let movePosition = _collision__WEBPACK_IMPORTED_MODULE_1__[\"vectorSum\"](this.positionAtDragStart, moveVector);\n        this.safeMove(movePosition.x, movePosition.y);\n      }\n    } else {\n      this.positionAtDragStart = null;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld19wb3J0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy92aWV3X3BvcnQuanM/YjczNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuL2VudGl0eSdcbmltcG9ydCAqIGFzIENvbGxpc2lvbiBmcm9tICcuL2NvbGxpc2lvbidcblxuZXhwb3J0IGNsYXNzIFZpZXdQb3J0IGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgbWFwKSB7XG4gICAgc3VwZXIoMCwgMCwgd2lkdGgsIGhlaWdodClcbiAgICB0aGlzLm5hbWUgPSBcIlZpZXdQb3J0XCJcbiAgICB0aGlzLnJlbGF0aXZlUG9zID0ge1xuICAgICAgeDogR2FtZS5jYW52YXMud2lkdGggLSB3aWR0aCxcbiAgICAgIHk6IDBcbiAgICB9XG4gICAgdGhpcy5zcGVlZCA9IDJcbiAgICB0aGlzLnBvc2l0aW9uQXREcmFnU3RhcnQgPSBudWxsXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICB0aGlzLm1hcC52aWV3UG9ydCA9IHRoaXNcbiAgfVxuXG4gIG1heFgoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLndpZHRoIC0gdGhpcy53aWR0aFxuICB9XG5cbiAgbWF4WSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGVpZ2h0IC0gdGhpcy5oZWlnaHRcbiAgfVxuXG4gIG1vdmVUb09iamVjdChwb3MpIHtcbiAgICBpZiAoIUNvbGxpc2lvbi5pbnRlcnNlY3RzKHRoaXMsIHBvcykpIHtcbiAgICAgIGxldCB4ID0gcG9zLnggLSAodGhpcy53aWR0aCAvIDIpXG4gICAgICBsZXQgeSA9IHBvcy55IC0gKHRoaXMuaGVpZ2h0IC8gMilcblxuICAgICAgdGhpcy5zYWZlTW92ZSh4LCB5KVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZihHYW1lLmV2ZW50cy5rZXlzRG93blszN10pXG4gICAgICB0aGlzLnNhZmVNb3ZlKHRoaXMucG9zLnggLSB0aGlzLnNwZWVkLCB0aGlzLnBvcy55KVxuXG4gICAgaWYoR2FtZS5ldmVudHMua2V5c0Rvd25bMzhdKSBcbiAgICAgIHRoaXMuc2FmZU1vdmUodGhpcy5wb3MueCwgdGhpcy5wb3MueSAtIHRoaXMuc3BlZWQpXG5cbiAgICBpZihHYW1lLmV2ZW50cy5rZXlzRG93blszOV0pXG4gICAgICB0aGlzLnNhZmVNb3ZlKHRoaXMucG9zLnggKyB0aGlzLnNwZWVkLCB0aGlzLnBvcy55KVxuXG4gICAgaWYoR2FtZS5ldmVudHMua2V5c0Rvd25bNDBdKVxuICAgICAgdGhpcy5zYWZlTW92ZSh0aGlzLnBvcy54LCB0aGlzLnBvcy55ICsgdGhpcy5zcGVlZClcblxuICAgIGlmKEdhbWUuc3RhdGUgPT0gJ21hcF9lZGl0b3InICYmIEdhbWUuZXZlbnRzLm1vdXNlLmRyYWdnaW5nKSB7XG4gICAgICBsZXQgZHJhZ1N0YXJ0UG9zaXRpb25Pbk1hcCA9IEdhbWUuZXZlbnRzLm1vdXNlLmRyYWdTdGFydFxuICAgICAgaWYoQ29sbGlzaW9uLmludGVyc2VjdHModGhpcywgZHJhZ1N0YXJ0UG9zaXRpb25Pbk1hcCwgMCwgdHJ1ZSkpIHtcbiAgICAgICAgaWYodGhpcy5wb3NpdGlvbkF0RHJhZ1N0YXJ0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wb3NpdGlvbkF0RHJhZ1N0YXJ0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wb3MpXG4gICAgICAgICAgJChHYW1lLmNhbnZhcykuY3NzKHsnY3Vyc29yJyA6ICdtb3ZlJ30pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhcnQgPSBHYW1lLmV2ZW50cy5tb3VzZS5kcmFnU3RhcnRcbiAgICAgICAgbGV0IGVuZCA9IHsgeDogR2FtZS5ldmVudHMubW91c2UueCwgeTogR2FtZS5ldmVudHMubW91c2UueSB9XG4gICAgICAgIGxldCBtb3ZlVmVjdG9yID0gQ29sbGlzaW9uLnZlY3RvckRpZmZlcmVuY2Uoc3RhcnQsIGVuZClcblxuICAgICAgICBsZXQgbW92ZVBvc2l0aW9uID0gQ29sbGlzaW9uLnZlY3RvclN1bSh0aGlzLnBvc2l0aW9uQXREcmFnU3RhcnQsIG1vdmVWZWN0b3IpXG4gICAgICAgIHRoaXMuc2FmZU1vdmUobW92ZVBvc2l0aW9uLngsIG1vdmVQb3NpdGlvbi55KVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb25BdERyYWdTdGFydCA9IG51bGxcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBL0RBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/view_port.js\n");

/***/ }),

/***/ "./src/views/map_editor/map_loader_menu.js":
/*!*************************************************!*\
  !*** ./src/views/map_editor/map_loader_menu.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MapLoaderMenu; });\n/* harmony import */ var _ui_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/ui */ \"./src/ui/ui.js\");\n\n\nclass MapLoaderMenu extends _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].PopupMenu {\n  constructor(properties) {\n    super(Game.canvas, properties, true);\n\n    properties[\"children\"] = [{\n      className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].List,\n      properties: {\n        height: \"70%\",\n        width: \"60%\",\n        rowHeight: 20,\n        alignment: \"center\",\n        verticalAlignment: \"top\",\n        items: []\n      }\n    }, {\n      className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n      properties: {\n        text: \"Cancel\",\n        margin: 10,\n        alignment: \"left\",\n        event_object: Game.events,\n        clickAction: this.exitMapLoaderMenu\n      }\n    }, {\n      className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n      properties: {\n        text: \"Load Map\",\n        margin: 10,\n        alignment: \"right\",\n        event_object: Game.events,\n        clickAction: MapLoaderMenu.loadMap\n      }\n    }];\n\n    super.createChildElements(properties);\n    this.name = \"UI.MapLoaderMenu\";\n    this.page = 1;\n    this.mapData = [];\n    Game.uiElements.push(this);\n  }\n\n  getMapsData() {\n    $.ajax({\n      method: \"GET\",\n      url: '/maps',\n      data: { layout: JSON.stringify(this.layout) },\n      error: error => {\n        console.log(`ERROR: response text: ${error.responseText}, status: ${error.status}`);\n      },\n      success: (data => {\n        // Going to have to work/modify this data either server side or client side\n        mapsUIPreviewData = data;\n        this.mapData = mapsUIPreviewData;\n        this.updateMapList();\n      }).bind(this)\n    });\n  }\n\n  updateMapList() {\n    this.children[1].items = this.mapData;\n  }\n\n  static loadMap() {\n    // de-serialize the map and load it into the map object here\n  }\n\n  exitMapLoaderMenu() {\n    delete Game.uiElements[this];\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbWFwX2VkaXRvci9tYXBfbG9hZGVyX21lbnUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL21hcF9lZGl0b3IvbWFwX2xvYWRlcl9tZW51LmpzPzRkMjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVUkgfSBmcm9tICcuLi8uLi91aS91aSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTG9hZGVyTWVudSBleHRlbmRzIFVJLlBvcHVwTWVudSB7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICBzdXBlcihHYW1lLmNhbnZhcywgcHJvcGVydGllcywgdHJ1ZSlcblxuICAgIHByb3BlcnRpZXNbXCJjaGlsZHJlblwiXSA9IFtcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBVSS5MaXN0LFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgaGVpZ2h0OiBcIjcwJVwiLFxuICAgICAgICAgIHdpZHRoOiBcIjYwJVwiLFxuICAgICAgICAgIHJvd0hlaWdodDogMjAsXG4gICAgICAgICAgYWxpZ25tZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiBcInRvcFwiLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFVJLkJ1dHRvbixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgICAgICAgbWFyZ2luOiAxMCxcbiAgICAgICAgICBhbGlnbm1lbnQ6IFwibGVmdFwiLFxuICAgICAgICAgIGV2ZW50X29iamVjdDogR2FtZS5ldmVudHMsXG4gICAgICAgICAgY2xpY2tBY3Rpb246IHRoaXMuZXhpdE1hcExvYWRlck1lbnVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBVSS5CdXR0b24sXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICB0ZXh0OiBcIkxvYWQgTWFwXCIsXG4gICAgICAgICAgbWFyZ2luOiAxMCxcbiAgICAgICAgICBhbGlnbm1lbnQ6IFwicmlnaHRcIixcbiAgICAgICAgICBldmVudF9vYmplY3Q6IEdhbWUuZXZlbnRzLFxuICAgICAgICAgIGNsaWNrQWN0aW9uOiBNYXBMb2FkZXJNZW51LmxvYWRNYXBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cblxuICAgIHN1cGVyLmNyZWF0ZUNoaWxkRWxlbWVudHMocHJvcGVydGllcylcbiAgICB0aGlzLm5hbWUgPSBcIlVJLk1hcExvYWRlck1lbnVcIlxuICAgIHRoaXMucGFnZSA9IDFcbiAgICB0aGlzLm1hcERhdGEgPSBbXVxuICAgIEdhbWUudWlFbGVtZW50cy5wdXNoKHRoaXMpXG4gIH1cblxuICBnZXRNYXBzRGF0YSgpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgdXJsOiAnL21hcHMnLFxuICAgICAgZGF0YTogeyBsYXlvdXQ6IEpTT04uc3RyaW5naWZ5KHRoaXMubGF5b3V0KX0sXG4gICAgICBlcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFUlJPUjogcmVzcG9uc2UgdGV4dDogJHtlcnJvci5yZXNwb25zZVRleHR9LCBzdGF0dXM6ICR7ZXJyb3Iuc3RhdHVzfWApXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogKChkYXRhKSA9PiB7XG4gICAgICAgIC8vIEdvaW5nIHRvIGhhdmUgdG8gd29yay9tb2RpZnkgdGhpcyBkYXRhIGVpdGhlciBzZXJ2ZXIgc2lkZSBvciBjbGllbnQgc2lkZVxuICAgICAgICBtYXBzVUlQcmV2aWV3RGF0YSA9IGRhdGFcbiAgICAgICAgdGhpcy5tYXBEYXRhID0gbWFwc1VJUHJldmlld0RhdGFcbiAgICAgICAgdGhpcy51cGRhdGVNYXBMaXN0KClcbiAgICAgIH0pLmJpbmQodGhpcylcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZU1hcExpc3QoKSB7XG4gICAgdGhpcy5jaGlsZHJlblsxXS5pdGVtcyA9IHRoaXMubWFwRGF0YVxuICB9XG5cbiAgc3RhdGljIGxvYWRNYXAoKSB7XG4gICAgLy8gZGUtc2VyaWFsaXplIHRoZSBtYXAgYW5kIGxvYWQgaXQgaW50byB0aGUgbWFwIG9iamVjdCBoZXJlXG4gIH1cblxuICBleGl0TWFwTG9hZGVyTWVudSgpIHtcbiAgICBkZWxldGUgR2FtZS51aUVsZW1lbnRzW3RoaXNdXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFGQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFGQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFGQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/views/map_editor/map_loader_menu.js\n");

/***/ }),

/***/ "./src/views/map_editor/side_menu.js":
/*!*******************************************!*\
  !*** ./src/views/map_editor/side_menu.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SideMenu; });\n/* harmony import */ var _ui_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/ui */ \"./src/ui/ui.js\");\n/* harmony import */ var _mini_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../mini_map */ \"./src/mini_map.js\");\n/* harmony import */ var _map_loader_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map_loader_menu */ \"./src/views/map_editor/map_loader_menu.js\");\n\n\n\n\nclass SideMenu extends _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].UIElement {\n  constructor(map, viewPort) {\n    let properties = {\n      backgroundColor: '#dbcdae',\n      width: Game.canvas.width - viewPort.width,\n      height: viewPort.height,\n      alignment: \"left\",\n      verticalAlignment: \"top\",\n      children: [{\n        className: _mini_map__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        properties: {\n          map: map,\n          viewPort: viewPort\n        }\n      }, {\n        className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Grid,\n        properties: {\n          height: \"40%\",\n          width: \"80%\",\n          rowHeight: 30,\n          rowMargin: 10,\n          alignment: \"center\",\n          verticalAlignment: \"top\",\n          rows: [[{\n            className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n            properties: { text: \"Load Map\", event_object: Game.events, clickAction: SideMenu.loadMapLoaderMenu }\n          }], [{\n            className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n            properties: { text: \"Save Map\", event_object: Game.events, clickAction: SideMenu.saveMap }\n          }], [{\n            className: _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].Button,\n            properties: { text: \"Main Menu\", event_object: Game.events, clickAction: SideMenu.loadMainMenu }\n          }]]\n        }\n      }]\n    };\n\n    super(Game.canvas, properties);\n    this.name = \"UI.SideMenu\";\n    this.map = map;\n  }\n\n  static saveMap() {\n    // Loop up parent chain until you get to the SideMenu (which has the map)\n    let target = this;\n    while (target.map === undefined) {\n      target = target.parent;\n    }\n    target.map.save();\n  }\n\n  static loadMainMenu() {\n    Game.setState(\"load_main_menu\");\n  }\n\n  static loadMapLoaderMenu() {\n    // second param needs to be the properties\n    let mapLoaderMenu = new _map_loader_menu__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      headerText: \"Load Map\"\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbWFwX2VkaXRvci9zaWRlX21lbnUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL21hcF9lZGl0b3Ivc2lkZV9tZW51LmpzPzkxMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVUkgfSBmcm9tICcuLi8uLi91aS91aSdcbmltcG9ydCBNaW5pTWFwIGZyb20gJy4uLy4uL21pbmlfbWFwJ1xuaW1wb3J0IE1hcExvYWRlck1lbnUgZnJvbSAnLi9tYXBfbG9hZGVyX21lbnUnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGVNZW51IGV4dGVuZHMgVUkuVUlFbGVtZW50IHtcbiAgY29uc3RydWN0b3IobWFwLCB2aWV3UG9ydCkge1xuICAgIGxldCBwcm9wZXJ0aWVzID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2RiY2RhZScsXG4gICAgICB3aWR0aDogR2FtZS5jYW52YXMud2lkdGggLSB2aWV3UG9ydC53aWR0aCxcbiAgICAgIGhlaWdodDogdmlld1BvcnQuaGVpZ2h0LFxuICAgICAgYWxpZ25tZW50OiBcImxlZnRcIixcbiAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiBcInRvcFwiLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogTWluaU1hcCxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgICAgIHZpZXdQb3J0OiB2aWV3UG9ydFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogVUkuR3JpZCxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiNDAlXCIsXG4gICAgICAgICAgICB3aWR0aDogXCI4MCVcIixcbiAgICAgICAgICAgIHJvd0hlaWdodDogMzAsXG4gICAgICAgICAgICByb3dNYXJnaW46IDEwLFxuICAgICAgICAgICAgYWxpZ25tZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgdmVydGljYWxBbGlnbm1lbnQ6IFwidG9wXCIsXG4gICAgICAgICAgICByb3dzOiBbXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFVJLkJ1dHRvbixcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt0ZXh0OiBcIkxvYWQgTWFwXCIsIGV2ZW50X29iamVjdDogR2FtZS5ldmVudHMsIGNsaWNrQWN0aW9uOiBTaWRlTWVudS5sb2FkTWFwTG9hZGVyTWVudX1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFVJLkJ1dHRvbixcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt0ZXh0OiBcIlNhdmUgTWFwXCIsIGV2ZW50X29iamVjdDogR2FtZS5ldmVudHMsIGNsaWNrQWN0aW9uOiBTaWRlTWVudS5zYXZlTWFwfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogVUkuQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge3RleHQ6IFwiTWFpbiBNZW51XCIsIGV2ZW50X29iamVjdDogR2FtZS5ldmVudHMsIGNsaWNrQWN0aW9uOiBTaWRlTWVudS5sb2FkTWFpbk1lbnV9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cblxuICAgIHN1cGVyKEdhbWUuY2FudmFzLCBwcm9wZXJ0aWVzKVxuICAgIHRoaXMubmFtZSA9IFwiVUkuU2lkZU1lbnVcIlxuICAgIHRoaXMubWFwID0gbWFwXG4gIH1cblxuICBzdGF0aWMgc2F2ZU1hcCgpIHtcbiAgICAvLyBMb29wIHVwIHBhcmVudCBjaGFpbiB1bnRpbCB5b3UgZ2V0IHRvIHRoZSBTaWRlTWVudSAod2hpY2ggaGFzIHRoZSBtYXApXG4gICAgbGV0IHRhcmdldCA9IHRoaXNcbiAgICB3aGlsZSh0YXJnZXQubWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnRcbiAgICB9XG4gICAgdGFyZ2V0Lm1hcC5zYXZlKClcbiAgfVxuXG4gIHN0YXRpYyBsb2FkTWFpbk1lbnUoKSB7XG4gICAgR2FtZS5zZXRTdGF0ZShcImxvYWRfbWFpbl9tZW51XCIpXG4gIH1cblxuICBzdGF0aWMgbG9hZE1hcExvYWRlck1lbnUoKSB7XG4gICAgLy8gc2Vjb25kIHBhcmFtIG5lZWRzIHRvIGJlIHRoZSBwcm9wZXJ0aWVzXG4gICAgbGV0IG1hcExvYWRlck1lbnUgPSBuZXcgTWFwTG9hZGVyTWVudSh7XG4gICAgICBoZWFkZXJUZXh0OiBcIkxvYWQgTWFwXCJcbiAgICB9KVxuICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUZBO0FBT0E7QUFDQTtBQUZBO0FBT0E7QUFDQTtBQUZBO0FBckJBO0FBRkE7QUFkQTtBQUNBO0FBK0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBMUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/map_editor/side_menu.js\n");

/***/ }),

/***/ "./src/views/map_editor/texture_menu.js":
/*!**********************************************!*\
  !*** ./src/views/map_editor/texture_menu.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextureMenu; });\n/* harmony import */ var _ui_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ui/ui */ \"./src/ui/ui.js\");\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../texture */ \"./src/texture.js\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../collision */ \"./src/collision.js\");\n\n\n\n\nclass TextureMenu extends _ui_ui__WEBPACK_IMPORTED_MODULE_0__[\"UI\"].UIElement {\n  constructor(canvas, properties) {\n    super(canvas, properties);\n    this.name = \"UI.TextureMenu\";\n    this.textures = properties['textures'];\n    this.selectedTexture = null;\n    this.textureWidth = this.textures[Object.keys(this.textures)[0]].width;\n    this.setupMenuProperties();\n    this.texturesPerPage = this.textureColumnCount * this.textureRowCount;\n\n    this.initTextureObjects();\n    this.totalPages = this.textureObjects.length;\n    this.page = 0;\n    this.setupIcons();\n  }\n\n  setupMenuProperties() {\n    this.imagePadding = 5;\n    let minimumLeftPadding = 80;\n    let minimumRightPadding = 40;\n    let minimumTextureRowWidth = this.width - (minimumLeftPadding + minimumRightPadding);\n    this.textureColumnCount = Math.trunc(minimumTextureRowWidth / (this.textureWidth + this.imagePadding));\n    let textureRowWidth = this.textureColumnCount * (this.textureWidth + this.imagePadding) - this.imagePadding;\n\n    let minimumTextureRowHeight = this.height - this.imagePadding * 2;\n    this.textureRowCount = Math.trunc(minimumTextureRowHeight / (this.textureWidth + this.imagePadding));\n    let textureRowHeight = this.textureRowCount * (this.textureWidth + this.imagePadding) - this.imagePadding;\n\n    this.rightPadding = (this.width - textureRowWidth) / 3;\n    this.leftPadding = this.rightPadding * 2;\n    this.topBottomPadding = (this.height - textureRowHeight) / 2;\n  }\n\n  setupIcons() {\n    let allIcons = Game.AssetManager.imgs[\"icons\"];\n    this.icons = {};\n\n    let icon = allIcons[\"left_arrow\"];\n    icon.pos = { x: this.imagePadding, y: this.pos.y + this.height / 2 - icon.height / 2 };\n    icon.clickAction = this.previousPage.bind(this);\n    if (this.page <= 0) icon.hidden = true;\n    this.icons[\"left_arrow\"] = icon;\n\n    icon = allIcons[\"right_arrow\"];\n    icon.pos = { x: this.width - icon.width - this.imagePadding, y: this.pos.y + this.height / 2 - icon.height / 2 };\n    icon.clickAction = this.nextPage.bind(this);\n    if (this.page >= this.totalPages - 1) icon.hidden = true;\n    this.icons[\"right_arrow\"] = icon;\n\n    icon = allIcons[\"eraser\"];\n    let eraserPadding = this.rightPadding - this.imagePadding;\n    icon.pos = { x: eraserPadding, y: this.pos.y + this.height / 2 - icon.height / 2 };\n    icon.clickAction = this.setErase.bind(this);\n    this.icons[\"eraser\"] = icon;\n  }\n\n  initTextureObjects() {\n    let x = this.pos.x + this.leftPadding;\n    let y = this.pos.y + this.topBottomPadding;\n    let currentRow = 0;\n    let currentColumn = 0;\n\n    let textureKeys = Object.keys(this.textures);\n    let page = 0;\n    this.textureObjects = [[]];\n\n    for (let key of textureKeys) {\n      let texture = new _texture__WEBPACK_IMPORTED_MODULE_1__[\"default\"](x, y, key, this.textures[key]);\n      this.textureObjects[page].push(texture);\n      currentColumn++;\n\n      x += texture.width + this.imagePadding;\n      if (currentColumn >= this.textureColumnCount) {\n        x = this.pos.x + this.leftPadding;\n        y += texture.height + this.imagePadding;\n        currentColumn = 0;\n        currentRow++;\n        if (currentRow >= this.textureRowCount) {\n          y = this.pos.y + this.topBottomPadding;\n          currentRow = 0;\n          page++;\n          this.textureObjects[page] = [];\n        }\n      }\n    }\n  }\n\n  updateArrowIcons() {\n    if (this.page == this.totalPages - 1) this.icons[\"right_arrow\"].hidden = true;else this.icons[\"right_arrow\"].hidden = false;\n\n    if (this.page == 0) this.icons[\"left_arrow\"].hidden = true;else this.icons[\"left_arrow\"].hidden = false;\n  }\n\n  nextPage() {\n    if (this.page >= this.totalPages - 1) return;\n    this.page++;\n    this.updateArrowIcons();\n  }\n\n  previousPage() {\n    if (this.page <= 0) return;\n    this.page--;\n    this.updateArrowIcons();\n  }\n\n  setErase() {\n    this.selectedTexture = 'eraser';\n  }\n\n  draw() {\n    this.ctx.beginPath();\n    this.ctx.fillStyle = this.backgroundColor;\n    this.ctx.fillRect(this.pos.x, this.pos.y, this.width, this.height);\n\n    for (let texture of this.textureObjects[this.page]) {\n      this.ctx.drawImage(texture.img, texture.pos.x, texture.pos.y, texture.width, texture.height);\n      if (this.selectedTexture && this.selectedTexture.id == texture.id) {\n        this.ctx.lineWidth = 3;\n        this.ctx.strokeStyle = \"#00ff00\";\n        this.ctx.strokeRect(texture.pos.x, texture.pos.y, texture.width, texture.height);\n      }\n      if (texture.hovering && (!this.selectedTexture || this.selectedTexture && this.selectedTexture.id != texture.id)) {\n        this.ctx.lineWidth = 2;\n        this.ctx.strokeStyle = \"#90c3d4\";\n        this.ctx.strokeRect(texture.pos.x, texture.pos.y, texture.width, texture.height);\n      }\n    }\n\n    for (let iconKey of Object.keys(this.icons)) {\n      let icon = this.icons[iconKey];\n      if (!icon.hidden) this.ctx.drawImage(icon, icon.pos.x, icon.pos.y, icon.width, icon.height);\n    }\n  }\n\n  update() {\n    if (_collision__WEBPACK_IMPORTED_MODULE_2__[\"intersects\"](this, Game.events.mouse)) {\n      for (let texture of this.textureObjects[this.page]) {\n        if (_collision__WEBPACK_IMPORTED_MODULE_2__[\"intersects\"](texture, Game.events.mouse)) {\n          texture.hovering = true;\n          if (Game.events.mouse.clicked) {\n            this.selectedTexture = texture;\n          }\n        } else {\n          texture.hovering = false;\n        }\n      }\n\n      if (Game.events.mouse.clicked) {\n        Game.events.mouse.clicked = false;\n        for (let iconKey of Object.keys(this.icons)) {\n          let icon = this.icons[iconKey];\n          if (!icon.hidden && _collision__WEBPACK_IMPORTED_MODULE_2__[\"intersects\"](icon, Game.events.mouse)) icon.clickAction();\n        }\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbWFwX2VkaXRvci90ZXh0dXJlX21lbnUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL21hcF9lZGl0b3IvdGV4dHVyZV9tZW51LmpzPzc4MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVUkgfSBmcm9tICcuLi8uLi91aS91aSdcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uLy4uL3RleHR1cmUnXG5pbXBvcnQgKiBhcyBDb2xsaXNpb24gZnJvbSAnLi4vLi4vY29sbGlzaW9uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlTWVudSBleHRlbmRzIFVJLlVJRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhcywgcHJvcGVydGllcykge1xuICAgIHN1cGVyKGNhbnZhcywgcHJvcGVydGllcylcbiAgICB0aGlzLm5hbWUgPSBcIlVJLlRleHR1cmVNZW51XCJcbiAgICB0aGlzLnRleHR1cmVzID0gcHJvcGVydGllc1sndGV4dHVyZXMnXVxuICAgIHRoaXMuc2VsZWN0ZWRUZXh0dXJlID0gbnVsbFxuICAgIHRoaXMudGV4dHVyZVdpZHRoID0gdGhpcy50ZXh0dXJlc1tPYmplY3Qua2V5cyh0aGlzLnRleHR1cmVzKVswXV0ud2lkdGhcbiAgICB0aGlzLnNldHVwTWVudVByb3BlcnRpZXMoKVxuICAgIHRoaXMudGV4dHVyZXNQZXJQYWdlID0gdGhpcy50ZXh0dXJlQ29sdW1uQ291bnQgKiB0aGlzLnRleHR1cmVSb3dDb3VudFxuXG4gICAgdGhpcy5pbml0VGV4dHVyZU9iamVjdHMoKVxuICAgIHRoaXMudG90YWxQYWdlcyA9IHRoaXMudGV4dHVyZU9iamVjdHMubGVuZ3RoXG4gICAgdGhpcy5wYWdlID0gMFxuICAgIHRoaXMuc2V0dXBJY29ucygpXG4gIH1cblxuICBzZXR1cE1lbnVQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMuaW1hZ2VQYWRkaW5nID0gNVxuICAgIGxldCBtaW5pbXVtTGVmdFBhZGRpbmcgPSA4MFxuICAgIGxldCBtaW5pbXVtUmlnaHRQYWRkaW5nID0gNDBcbiAgICBsZXQgbWluaW11bVRleHR1cmVSb3dXaWR0aCA9IHRoaXMud2lkdGggLSAobWluaW11bUxlZnRQYWRkaW5nICsgbWluaW11bVJpZ2h0UGFkZGluZylcbiAgICB0aGlzLnRleHR1cmVDb2x1bW5Db3VudCA9IE1hdGgudHJ1bmMobWluaW11bVRleHR1cmVSb3dXaWR0aCAvICh0aGlzLnRleHR1cmVXaWR0aCArIHRoaXMuaW1hZ2VQYWRkaW5nKSlcbiAgICBsZXQgdGV4dHVyZVJvd1dpZHRoID0gKHRoaXMudGV4dHVyZUNvbHVtbkNvdW50ICogKHRoaXMudGV4dHVyZVdpZHRoICsgdGhpcy5pbWFnZVBhZGRpbmcpKSAtIHRoaXMuaW1hZ2VQYWRkaW5nXG5cbiAgICBsZXQgbWluaW11bVRleHR1cmVSb3dIZWlnaHQgPSB0aGlzLmhlaWdodCAtICh0aGlzLmltYWdlUGFkZGluZyoyKVxuICAgIHRoaXMudGV4dHVyZVJvd0NvdW50ID0gTWF0aC50cnVuYyhtaW5pbXVtVGV4dHVyZVJvd0hlaWdodCAvICh0aGlzLnRleHR1cmVXaWR0aCArIHRoaXMuaW1hZ2VQYWRkaW5nKSlcbiAgICBsZXQgdGV4dHVyZVJvd0hlaWdodCA9ICh0aGlzLnRleHR1cmVSb3dDb3VudCAqICh0aGlzLnRleHR1cmVXaWR0aCArIHRoaXMuaW1hZ2VQYWRkaW5nKSkgLSB0aGlzLmltYWdlUGFkZGluZ1xuXG4gICAgdGhpcy5yaWdodFBhZGRpbmcgPSAodGhpcy53aWR0aCAtIHRleHR1cmVSb3dXaWR0aCkgLyAzXG4gICAgdGhpcy5sZWZ0UGFkZGluZyA9IHRoaXMucmlnaHRQYWRkaW5nICogMlxuICAgIHRoaXMudG9wQm90dG9tUGFkZGluZyA9ICh0aGlzLmhlaWdodCAtIHRleHR1cmVSb3dIZWlnaHQpIC8gMlxuICB9XG5cbiAgc2V0dXBJY29ucygpIHtcbiAgICBsZXQgYWxsSWNvbnMgPSBHYW1lLkFzc2V0TWFuYWdlci5pbWdzW1wiaWNvbnNcIl1cbiAgICB0aGlzLmljb25zID0ge31cblxuICAgIGxldCBpY29uID0gYWxsSWNvbnNbXCJsZWZ0X2Fycm93XCJdXG4gICAgaWNvbi5wb3MgPSB7IHg6IHRoaXMuaW1hZ2VQYWRkaW5nLCB5OiAodGhpcy5wb3MueSArICh0aGlzLmhlaWdodCAvIDIpKSAtIChpY29uLmhlaWdodCAvIDIpIH1cbiAgICBpY29uLmNsaWNrQWN0aW9uID0gdGhpcy5wcmV2aW91c1BhZ2UuYmluZCh0aGlzKVxuICAgIGlmKHRoaXMucGFnZSA8PSAwKSBpY29uLmhpZGRlbiA9IHRydWVcbiAgICB0aGlzLmljb25zW1wibGVmdF9hcnJvd1wiXSA9IGljb25cblxuICAgIGljb24gPSBhbGxJY29uc1tcInJpZ2h0X2Fycm93XCJdXG4gICAgaWNvbi5wb3MgPSB7IHg6ICh0aGlzLndpZHRoIC0gaWNvbi53aWR0aCkgLSB0aGlzLmltYWdlUGFkZGluZywgeTogKHRoaXMucG9zLnkgKyAodGhpcy5oZWlnaHQgLyAyKSkgLSAoaWNvbi5oZWlnaHQgLyAyKSB9XG4gICAgaWNvbi5jbGlja0FjdGlvbiA9IHRoaXMubmV4dFBhZ2UuYmluZCh0aGlzKVxuICAgIGlmKHRoaXMucGFnZSA+PSAodGhpcy50b3RhbFBhZ2VzIC0gMSkpIGljb24uaGlkZGVuID0gdHJ1ZVxuICAgIHRoaXMuaWNvbnNbXCJyaWdodF9hcnJvd1wiXSA9IGljb25cblxuICAgIGljb24gPSBhbGxJY29uc1tcImVyYXNlclwiXVxuICAgIGxldCBlcmFzZXJQYWRkaW5nID0gdGhpcy5yaWdodFBhZGRpbmcgLSB0aGlzLmltYWdlUGFkZGluZ1xuICAgIGljb24ucG9zID0geyB4OiBlcmFzZXJQYWRkaW5nLCB5OiAodGhpcy5wb3MueSArICh0aGlzLmhlaWdodCAvIDIpKSAtIChpY29uLmhlaWdodCAvIDIpIH1cbiAgICBpY29uLmNsaWNrQWN0aW9uID0gdGhpcy5zZXRFcmFzZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5pY29uc1tcImVyYXNlclwiXSA9IGljb25cbiAgfVxuXG4gIGluaXRUZXh0dXJlT2JqZWN0cygpIHtcbiAgICBsZXQgeCA9IHRoaXMucG9zLnggKyB0aGlzLmxlZnRQYWRkaW5nXG4gICAgbGV0IHkgPSB0aGlzLnBvcy55ICsgdGhpcy50b3BCb3R0b21QYWRkaW5nXG4gICAgbGV0IGN1cnJlbnRSb3cgPSAwXG4gICAgbGV0IGN1cnJlbnRDb2x1bW4gPSAwXG5cbiAgICBsZXQgdGV4dHVyZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnRleHR1cmVzKVxuICAgIGxldCBwYWdlID0gMFxuICAgIHRoaXMudGV4dHVyZU9iamVjdHMgPSBbW11dXG5cbiAgICBmb3IobGV0IGtleSBvZiB0ZXh0dXJlS2V5cykge1xuICAgICAgbGV0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh4LCB5LCBrZXksIHRoaXMudGV4dHVyZXNba2V5XSlcbiAgICAgIHRoaXMudGV4dHVyZU9iamVjdHNbcGFnZV0ucHVzaCh0ZXh0dXJlKVxuICAgICAgY3VycmVudENvbHVtbisrXG5cbiAgICAgIHggKz0gdGV4dHVyZS53aWR0aCArIHRoaXMuaW1hZ2VQYWRkaW5nXG4gICAgICBpZihjdXJyZW50Q29sdW1uID49IHRoaXMudGV4dHVyZUNvbHVtbkNvdW50KSB7XG4gICAgICAgIHggPSB0aGlzLnBvcy54ICsgdGhpcy5sZWZ0UGFkZGluZ1xuICAgICAgICB5ICs9IHRleHR1cmUuaGVpZ2h0ICsgdGhpcy5pbWFnZVBhZGRpbmdcbiAgICAgICAgY3VycmVudENvbHVtbiA9IDBcbiAgICAgICAgY3VycmVudFJvdysrXG4gICAgICAgIGlmKGN1cnJlbnRSb3cgPj0gdGhpcy50ZXh0dXJlUm93Q291bnQpIHtcbiAgICAgICAgICB5ID0gdGhpcy5wb3MueSArIHRoaXMudG9wQm90dG9tUGFkZGluZ1xuICAgICAgICAgIGN1cnJlbnRSb3cgPSAwXG4gICAgICAgICAgcGFnZSsrXG4gICAgICAgICAgdGhpcy50ZXh0dXJlT2JqZWN0c1twYWdlXSA9IFtdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVBcnJvd0ljb25zKCkge1xuICAgIGlmKHRoaXMucGFnZSA9PSAodGhpcy50b3RhbFBhZ2VzIC0gMSkpXG4gICAgICB0aGlzLmljb25zW1wicmlnaHRfYXJyb3dcIl0uaGlkZGVuID0gdHJ1ZVxuICAgIGVsc2VcbiAgICAgIHRoaXMuaWNvbnNbXCJyaWdodF9hcnJvd1wiXS5oaWRkZW4gPSBmYWxzZVxuXG4gICAgaWYodGhpcy5wYWdlID09IDApXG4gICAgICB0aGlzLmljb25zW1wibGVmdF9hcnJvd1wiXS5oaWRkZW4gPSB0cnVlXG4gICAgZWxzZVxuICAgICAgdGhpcy5pY29uc1tcImxlZnRfYXJyb3dcIl0uaGlkZGVuID0gZmFsc2VcbiAgfVxuXG4gIG5leHRQYWdlKCkge1xuICAgIGlmKHRoaXMucGFnZSA+PSAodGhpcy50b3RhbFBhZ2VzIC0gMSkpIHJldHVyblxuICAgIHRoaXMucGFnZSsrXG4gICAgdGhpcy51cGRhdGVBcnJvd0ljb25zKClcbiAgfVxuXG4gIHByZXZpb3VzUGFnZSgpIHtcbiAgICBpZih0aGlzLnBhZ2UgPD0gMCkgcmV0dXJuXG4gICAgdGhpcy5wYWdlLS1cbiAgICB0aGlzLnVwZGF0ZUFycm93SWNvbnMoKVxuICB9XG5cbiAgc2V0RXJhc2UoKSB7XG4gICAgdGhpcy5zZWxlY3RlZFRleHR1cmUgPSAnZXJhc2VyJ1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yXG4gICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG5cbiAgICBmb3IobGV0IHRleHR1cmUgb2YgdGhpcy50ZXh0dXJlT2JqZWN0c1t0aGlzLnBhZ2VdKSB7XG4gICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGV4dHVyZS5pbWcsIHRleHR1cmUucG9zLngsIHRleHR1cmUucG9zLnksIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KVxuICAgICAgaWYodGhpcy5zZWxlY3RlZFRleHR1cmUgJiYgdGhpcy5zZWxlY3RlZFRleHR1cmUuaWQgPT0gdGV4dHVyZS5pZCkge1xuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAzXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjMDBmZjAwXCJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdCh0ZXh0dXJlLnBvcy54LCB0ZXh0dXJlLnBvcy55LCB0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodClcbiAgICAgIH1cbiAgICAgIGlmKHRleHR1cmUuaG92ZXJpbmcgJiYgKCF0aGlzLnNlbGVjdGVkVGV4dHVyZSB8fFxuICAgICAgICAgICAgKHRoaXMuc2VsZWN0ZWRUZXh0dXJlICYmXG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0dXJlLmlkICE9IHRleHR1cmUuaWQpKSkge1xuICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjOTBjM2Q0XCJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdCh0ZXh0dXJlLnBvcy54LCB0ZXh0dXJlLnBvcy55LCB0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IobGV0IGljb25LZXkgb2YgT2JqZWN0LmtleXModGhpcy5pY29ucykpIHtcbiAgICAgIGxldCBpY29uID0gdGhpcy5pY29uc1tpY29uS2V5XVxuICAgICAgaWYoIWljb24uaGlkZGVuKVxuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaWNvbiwgaWNvbi5wb3MueCwgaWNvbi5wb3MueSwgaWNvbi53aWR0aCwgaWNvbi5oZWlnaHQpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGlmKENvbGxpc2lvbi5pbnRlcnNlY3RzKHRoaXMsIEdhbWUuZXZlbnRzLm1vdXNlKSkge1xuICAgICAgZm9yKGxldCB0ZXh0dXJlIG9mIHRoaXMudGV4dHVyZU9iamVjdHNbdGhpcy5wYWdlXSkge1xuICAgICAgICBpZihDb2xsaXNpb24uaW50ZXJzZWN0cyh0ZXh0dXJlLCBHYW1lLmV2ZW50cy5tb3VzZSkpIHtcbiAgICAgICAgICB0ZXh0dXJlLmhvdmVyaW5nID0gdHJ1ZVxuICAgICAgICAgIGlmKEdhbWUuZXZlbnRzLm1vdXNlLmNsaWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0dXJlID0gdGV4dHVyZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0ZXh0dXJlLmhvdmVyaW5nID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihHYW1lLmV2ZW50cy5tb3VzZS5jbGlja2VkKSB7XG4gICAgICAgIEdhbWUuZXZlbnRzLm1vdXNlLmNsaWNrZWQgPSBmYWxzZVxuICAgICAgICBmb3IobGV0IGljb25LZXkgb2YgT2JqZWN0LmtleXModGhpcy5pY29ucykpIHtcbiAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMuaWNvbnNbaWNvbktleV1cbiAgICAgICAgICBpZighaWNvbi5oaWRkZW4gJiYgQ29sbGlzaW9uLmludGVyc2VjdHMoaWNvbiwgR2FtZS5ldmVudHMubW91c2UpKVxuICAgICAgICAgICAgaWNvbi5jbGlja0FjdGlvbigpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBdEtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/map_editor/texture_menu.js\n");

/***/ }),

/***/ "./src/views/map_editor_ui.js":
/*!************************************!*\
  !*** ./src/views/map_editor_ui.js ***!
  \************************************/
/*! exports provided: MapEditorUI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MapEditorUI\", function() { return MapEditorUI; });\n/* harmony import */ var _map_editor_side_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map_editor/side_menu */ \"./src/views/map_editor/side_menu.js\");\n/* harmony import */ var _map_editor_map_loader_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map_editor/map_loader_menu */ \"./src/views/map_editor/map_loader_menu.js\");\n/* harmony import */ var _map_editor_texture_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map_editor/texture_menu */ \"./src/views/map_editor/texture_menu.js\");\n\n\n\n\nlet MapEditorUI = { SideMenu: _map_editor_side_menu__WEBPACK_IMPORTED_MODULE_0__[\"default\"], MapLoaderMenu: _map_editor_map_loader_menu__WEBPACK_IMPORTED_MODULE_1__[\"default\"], TextureMenu: _map_editor_texture_menu__WEBPACK_IMPORTED_MODULE_2__[\"default\"] };\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbWFwX2VkaXRvcl91aS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdmlld3MvbWFwX2VkaXRvcl91aS5qcz9kZjhmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWRlTWVudSBmcm9tICcuL21hcF9lZGl0b3Ivc2lkZV9tZW51J1xuaW1wb3J0IE1hcExvYWRlck1lbnUgZnJvbSAnLi9tYXBfZWRpdG9yL21hcF9sb2FkZXJfbWVudSdcbmltcG9ydCBUZXh0dXJlTWVudSBmcm9tICcuL21hcF9lZGl0b3IvdGV4dHVyZV9tZW51J1xuXG5sZXQgTWFwRWRpdG9yVUkgPSB7IFNpZGVNZW51LCBNYXBMb2FkZXJNZW51LCBUZXh0dXJlTWVudSB9XG5cbmV4cG9ydCB7IE1hcEVkaXRvclVJIH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/views/map_editor_ui.js\n");

/***/ })

/******/ });